{% extends "base.html" %}
{% block title %}Notifications{% endblock %}

{% block content %}
<div class="container mx-auto">
    <div class="max-w-3xl mx-auto">
        <div class="dream-card">
            <div class="border-b border-slate-200 p-6 flex justify-between items-center">
                <h2 class="text-2xl font-semibold text-slate-900">Notifications</h2>
                {% if notifications %}
                <a href="{{ url_for('mark_all_notifications_read') }}" class="text-sm text-purple-600 hover:text-purple-700">
                    Mark all as read
                </a>
                {% endif %}
            </div>
            <div class="divide-y divide-slate-200">
                {% if notifications %}
                    {% for notification in notifications %}
                    <div class="p-6 {% if not notification.read %}bg-purple-50/50{% endif %}">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <h3 class="text-lg font-medium text-slate-900 mb-1">{{ notification.title }}</h3>
                                <p class="text-slate-600">{{ notification.content }}</p>
                                <div class="mt-2 text-sm text-slate-500">
                                    {{ notification.created_at.strftime('%B %d, %Y at %I:%M %p') }}
                                </div>
                            </div>
                            {% if not notification.read %}
                            <a href="{{ url_for('mark_notification_read', notification_id=notification.id) }}" 
                               class="ml-4 text-sm text-purple-600 hover:text-purple-700">
                                Mark as read
                            </a>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="p-6 text-center text-slate-600">
                        No notifications to display.
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
