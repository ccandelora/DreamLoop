2024-11-13 18:30:36,998 - None - None - None None
Level: INFO
Module: base
Message: [cached since 0.04526s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,020 - None - None - None None
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,020 - None - None - None None
Level: INFO
Module: base
Message: [cached since 0.06771s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,041 - None - None - None None
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,041 - None - None - None None
Level: INFO
Module: base
Message: [cached since 0.08862s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,063 - None - None - None None
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,063 - None - None - None None
Level: INFO
Module: base
Message: [cached since 0.1106s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,084 - None - None - None None
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,084 - None - None - None None
Level: INFO
Module: base
Message: [cached since 0.1316s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,105 - None - None - None None
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,105 - None - None - None None
Level: INFO
Module: base
Message: [cached since 0.1527s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,127 - None - None - None None
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,127 - None - None - None None
Level: INFO
Module: base
Message: [cached since 0.1748s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,152 - None - None - None None
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-13 18:30:37,152 - None - None - None None
Level: INFO
Module: base
Message: [no key 0.00031s] {}

2024-11-13 18:30:37,253 - None - None - None None
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:37,283 - None - None - None None
Level: ERROR
Module: logging_config
Message: Application Error: {'timestamp': '2024-11-13T18:30:37.273934', 'error_type': 'IntegrityError', 'error_message': '(psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "pg_class_relname_nsp_index"\nDETAIL:  Key (relname, relnamespace)=(user_id_seq, 421419) already exists.\n\n[SQL: \nCREATE TABLE "user" (\n\tid SERIAL NOT NULL, \n\tusername VARCHAR(64) NOT NULL, \n\temail VARCHAR(120) NOT NULL, \n\tpassword_hash VARCHAR(256), \n\tsubscription_type VARCHAR(20), \n\tsubscription_end_date TIMESTAMP WITHOUT TIME ZONE, \n\tmonthly_ai_analysis_count INTEGER, \n\tlast_analysis_reset TIMESTAMP WITHOUT TIME ZONE, \n\tPRIMARY KEY (id), \n\tUNIQUE (username), \n\tUNIQUE (email)\n)\n\n]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)', 'traceback': 'Traceback (most recent call last):\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "pg_class_relname_nsp_index"\nDETAIL:  Key (relname, relnamespace)=(user_id_seq, 421419) already exists.\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/home/runner/DreamShare/app.py", line 78, in create_app\n    db.create_all()\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 900, in create_all\n    self._call_for_binds(bind_key, "create_all")\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/flask_sqlalchemy/extension.py", line 881, in _call_for_binds\n    getattr(metadata, op_name)(bind=engine)\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5868, in create_all\n    bind._run_ddl_visitor(\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 3253, in _run_ddl_visitor\n    conn._run_ddl_visitor(visitorcallable, element, **kwargs)\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2459, in _run_ddl_visitor\n    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 664, in traverse_single\n    return meth(obj, **kw)\n           ^^^^^^^^^^^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 918, in visit_metadata\n    self.traverse_single(\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 664, in traverse_single\n    return meth(obj, **kw)\n           ^^^^^^^^^^^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 956, in visit_table\n    )._invoke_with(self.connection)\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 314, in _invoke_with\n    return bind.execute(self)\n           ^^^^^^^^^^^^^^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1418, in execute\n    return meth(\n           ^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 180, in _execute_on_connection\n    return connection._execute_ddl(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1529, in _execute_ddl\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File "/home/runner/DreamShare/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "pg_class_relname_nsp_index"\nDETAIL:  Key (relname, relnamespace)=(user_id_seq, 421419) already exists.\n\n[SQL: \nCREATE TABLE "user" (\n\tid SERIAL NOT NULL, \n\tusername VARCHAR(64) NOT NULL, \n\temail VARCHAR(120) NOT NULL, \n\tpassword_hash VARCHAR(256), \n\tsubscription_type VARCHAR(20), \n\tsubscription_end_date TIMESTAMP WITHOUT TIME ZONE, \n\tmonthly_ai_analysis_count INTEGER, \n\tlast_analysis_reset TIMESTAMP WITHOUT TIME ZONE, \n\tPRIMARY KEY (id), \n\tUNIQUE (username), \n\tUNIQUE (email)\n)\n\n]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)\n', 'context': {}}

