2024-11-13 18:36:49,518 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:36:49,519 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.218s ago] {}

2024-11-13 18:36:49,563 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:36:49,564 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:36:49,564 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.215s ago] {}

2024-11-13 18:36:49,588 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:36:49,588 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:36:49,589 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.214s ago] {}

2024-11-13 18:36:49,627 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:36:49,627 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:36:49,628 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.228s ago] {}

2024-11-13 18:36:49,650 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:36:49,651 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:36:49,651 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.227s ago] {}

2024-11-13 18:36:49,673 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:36:49,674 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:36:49,675 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.227s ago] {}

2024-11-13 18:36:49,700 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:36:49,701 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:36:49,701 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.227s ago] {}

2024-11-13 18:36:49,724 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:36:49,725 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:36:49,726 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.228s ago] {}

2024-11-13 18:36:49,748 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:49,749 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:49,770 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:36:49,771 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:36:49,793 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:49,793 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,794 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.752s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:49,838 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,839 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.797s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:49,862 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,863 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.821s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:49,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,886 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.844s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:49,908 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.867s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:49,932 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,933 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.892s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:49,956 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,957 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.915s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:49,979 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:49,980 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.938s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:50,002 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:50,067 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:50,068 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:50,068 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.231s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:50,112 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:50,154 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:50,155 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:36:50,156 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.223s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:36:50,241 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:50,242 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.217s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:36:50,309 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:50,310 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.211s ago] {'typtype_1': 'e'}

2024-11-13 18:36:50,334 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:50,356 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:36:50,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:36:50,383 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:50,384 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:50,384 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.184s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:36:50,428 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:50,429 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.181s ago] {'param_1': 28}

2024-11-13 18:36:50,452 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:50,453 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.179s ago] {'param_1': 28}

2024-11-13 18:36:50,478 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:50,479 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.179s ago] {'param_1': 28}

2024-11-13 18:36:50,502 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:50,504 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.177s ago] {'param_1': 28}

2024-11-13 18:36:50,528 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:50,529 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.176s ago] {'param_1': 28}

2024-11-13 18:36:50,552 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:50,553 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.305s ago] {'param_1': 28}

2024-11-13 18:36:50,579 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:50,580 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.306s ago] {'param_1': 28}

2024-11-13 18:36:50,604 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:50,605 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.305s ago] {'param_1': 28}

2024-11-13 18:36:50,628 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:50,629 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.302s ago] {'param_1': 28}

2024-11-13 18:36:50,652 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:36:50,652 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.174s ago] {'param_1': 28}

2024-11-13 18:36:50,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:50,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.324s ago] {'param_1': 28}

2024-11-13 18:36:50,701 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:36:50,702 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.172s ago] {'param_1': 28}

2024-11-13 18:36:50,724 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:36:50,725 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.171s ago] {'id': 28}

2024-11-13 18:36:50,749 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:50,896 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:50,897 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:36:50,898 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.183s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$NpfDSSEPM8msatoe$29f6c92dfa0fbc3de661be8b195599f2f86224dac3d227b261022d20cd0d0ad078897faa74e3f56714e32b7cfbb878cf71aae82fe0e7d3e372886166a26a7a32', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 36, 50, 772205)}

2024-11-13 18:36:50,942 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:50,988 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:50,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:36:50,990 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.177s ago] {'pk_1': 29}

2024-11-13 18:36:51,037 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/dream/new

2024-11-13 18:36:51,038 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/dream/new

2024-11-13 18:36:51,040 - - - 127.0.0.1 - GET http://localhost.localdomain/login?next=/dream/new
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/login?next=/dream/new

2024-11-13 18:36:51,054 - - - 127.0.0.1 - GET http://localhost.localdomain/login?next=/dream/new
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/login?next=/dream/new

2024-11-13 18:36:51,060 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:51,105 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:51,107 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:36:51,108 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.097s ago] {}

2024-11-13 18:36:51,151 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:36:51,154 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.1s ago] {}

2024-11-13 18:36:51,179 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:36:51,180 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.103s ago] {}

2024-11-13 18:36:51,202 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:36:51,204 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.104s ago] {}

2024-11-13 18:36:51,226 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:36:51,228 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.104s ago] {}

2024-11-13 18:36:51,251 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:36:51,252 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.104s ago] {}

2024-11-13 18:36:51,275 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:36:51,275 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.105s ago] {}

2024-11-13 18:36:51,298 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:36:51,298 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.105s ago] {}

2024-11-13 18:36:51,320 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:51,321 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:51,342 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:36:51,345 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:36:51,367 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:51,368 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:36:51,369 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.068s ago] {}

2024-11-13 18:36:51,413 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:36:51,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:36:51,415 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.065s ago] {}

2024-11-13 18:36:51,437 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:36:51,438 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:36:51,439 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.064s ago] {}

2024-11-13 18:36:51,462 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:36:51,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:36:51,464 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.065s ago] {}

2024-11-13 18:36:51,487 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:36:51,490 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:36:51,491 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.067s ago] {}

2024-11-13 18:36:51,513 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:36:51,515 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:36:51,515 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.068s ago] {}

2024-11-13 18:36:51,538 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:36:51,539 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:36:51,540 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.066s ago] {}

2024-11-13 18:36:51,565 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:36:51,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:36:51,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.068s ago] {}

2024-11-13 18:36:51,588 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:51,594 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:51,617 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:36:51,618 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:36:51,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:51,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,642 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.6s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,687 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,689 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.647s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,712 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,713 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.672s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,736 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,739 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.697s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,762 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,762 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.72s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,786 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,787 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.745s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,809 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,810 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.768s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,832 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,833 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.791s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,856 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:51,922 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:51,923 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:51,924 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.086s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:51,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:52,011 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:52,011 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:36:52,012 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.079s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:36:52,101 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:52,102 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.077s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:36:52,169 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:52,173 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.074s ago] {'typtype_1': 'e'}

2024-11-13 18:36:52,197 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:52,219 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:36:52,219 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:36:52,243 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:52,244 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:52,245 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.045s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:36:52,289 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:52,290 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.042s ago] {'param_1': 29}

2024-11-13 18:36:52,313 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:52,314 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.04s ago] {'param_1': 29}

2024-11-13 18:36:52,338 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:52,339 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.039s ago] {'param_1': 29}

2024-11-13 18:36:52,363 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:52,364 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.037s ago] {'param_1': 29}

2024-11-13 18:36:52,387 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:52,388 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.036s ago] {'param_1': 29}

2024-11-13 18:36:52,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:52,415 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.167s ago] {'param_1': 29}

2024-11-13 18:36:52,438 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:52,439 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.165s ago] {'param_1': 29}

2024-11-13 18:36:52,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:52,464 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.163s ago] {'param_1': 29}

2024-11-13 18:36:52,487 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:52,487 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.161s ago] {'param_1': 29}

2024-11-13 18:36:52,515 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:36:52,516 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.037s ago] {'param_1': 29}

2024-11-13 18:36:52,539 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:52,540 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.188s ago] {'param_1': 29}

2024-11-13 18:36:52,568 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:36:52,570 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.041s ago] {'param_1': 29}

2024-11-13 18:36:52,594 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:36:52,594 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.04s ago] {'id': 29}

2024-11-13 18:36:52,618 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:52,825 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:52,826 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:36:52,827 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.112s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$mfPP8XBAzLGLZ2Kf$71f01ed0133e8f3ce435b4f54886067b7398e76e885476b278ad4ac635cbe2232ff760278bf834c122a2bc662d56f52f1630056e21b5971e096c3afbcaadb88f', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 36, 52, 640909)}

2024-11-13 18:36:52,871 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:52,920 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:52,921 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:36:52,921 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.108s ago] {'pk_1': 30}

2024-11-13 18:36:52,969 - - - 127.0.0.1 - POST http://localhost.localdomain/api/dreams
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/api/dreams

2024-11-13 18:36:52,970 - - - 127.0.0.1 - POST http://localhost.localdomain/api/dreams
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/api/dreams

2024-11-13 18:36:52,978 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:53,022 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:53,023 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:36:53,027 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.017s ago] {}

2024-11-13 18:36:53,073 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:36:53,074 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.02s ago] {}

2024-11-13 18:36:53,096 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:36:53,097 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.02s ago] {}

2024-11-13 18:36:53,119 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:36:53,120 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.02s ago] {}

2024-11-13 18:36:53,142 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:36:53,143 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.019s ago] {}

2024-11-13 18:36:53,166 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:36:53,167 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.019s ago] {}

2024-11-13 18:36:53,190 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:36:53,190 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.02s ago] {}

2024-11-13 18:36:53,213 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:36:53,216 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.022s ago] {}

2024-11-13 18:36:53,238 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:53,238 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:53,260 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:36:53,263 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:36:53,284 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:53,285 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:36:53,286 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,332 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:36:53,333 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:36:53,333 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,356 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:36:53,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:36:53,358 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,382 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:36:53,383 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:36:53,383 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,405 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:36:53,406 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:36:53,407 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,429 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:36:53,430 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:36:53,430 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,452 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:36:53,454 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:36:53,454 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,477 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:36:53,478 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:36:53,478 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {}

2024-11-13 18:36:53,500 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:53,501 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:53,523 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:36:53,524 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:36:53,548 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:53,549 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,550 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.51s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,601 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,604 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.56s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,627 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,628 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.59s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,650 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,651 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.61s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,673 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,674 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.63s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,696 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,697 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.66s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,719 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,720 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.68s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,743 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,743 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.7s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:53,831 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:53,832 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:53,832 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.99s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:53,877 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:53,922 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:53,923 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:36:53,923 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.99s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:36:54,009 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:54,010 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.99s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:36:54,077 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:54,077 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.98s ago] {'typtype_1': 'e'}

2024-11-13 18:36:54,100 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:54,122 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:36:54,123 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:36:54,125 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:36:54,148 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:54,149 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:54,150 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 10.95s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:36:54,193 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:36:54,194 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:54,216 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:36:54,217 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:36:54,240 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:54,241 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:54,241 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 11.04s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:36:54,285 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:36:54,286 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:54,308 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:36:54,310 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:36:54,331 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:54,333 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:54,333 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 11.13s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:36:54,377 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:36:54,378 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:54,400 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:36:54,401 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:36:54,424 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:54,425 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:54,425 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 11.23s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:36:54,469 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:36:54,470 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:54,492 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:36:54,493 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:36:54,515 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:54,517 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:54,517 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 11.32s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:36:54,560 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:36:54,561 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:54,583 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:36:54,585 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:36:54,607 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:54,608 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:54,609 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 11.41s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:36:54,652 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:36:54,653 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:54,680 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:36:54,706 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:54,707 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:36:54,707 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.7s ago] {}

2024-11-13 18:36:54,750 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:36:54,751 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.7s ago] {}

2024-11-13 18:36:54,773 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:36:54,774 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.7s ago] {}

2024-11-13 18:36:54,797 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:36:54,800 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.7s ago] {}

2024-11-13 18:36:54,823 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:36:54,824 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.7s ago] {}

2024-11-13 18:36:54,846 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:36:54,847 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.7s ago] {}

2024-11-13 18:36:54,869 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:36:54,870 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.7s ago] {}

2024-11-13 18:36:54,941 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:36:54,942 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.75s ago] {}

2024-11-13 18:36:54,964 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:54,965 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:54,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:36:54,992 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:36:55,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:55,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:36:55,018 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.72s ago] {}

2024-11-13 18:36:55,062 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:36:55,063 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:36:55,064 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {}

2024-11-13 18:36:55,086 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:36:55,087 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:36:55,088 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {}

2024-11-13 18:36:55,111 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:36:55,112 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:36:55,112 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {}

2024-11-13 18:36:55,134 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:36:55,135 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:36:55,136 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {}

2024-11-13 18:36:55,158 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:36:55,159 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:36:55,159 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {}

2024-11-13 18:36:55,182 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:36:55,182 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:36:55,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {}

2024-11-13 18:36:55,205 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:36:55,206 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:36:55,207 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {}

2024-11-13 18:36:55,229 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:55,230 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:55,252 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:36:55,253 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:36:55,275 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:55,276 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,276 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.23s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,319 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,320 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.28s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,343 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,343 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.3s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,366 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,367 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.33s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,390 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,391 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.35s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,413 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.37s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,436 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,437 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.4s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,460 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,461 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.42s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,483 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:55,549 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:55,551 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:55,551 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:55,596 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:55,640 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:55,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:36:55,642 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:36:55,730 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:55,731 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.71s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:36:55,799 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:55,799 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.7s ago] {'typtype_1': 'e'}

2024-11-13 18:36:55,823 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:55,844 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:36:55,845 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:36:55,874 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:55,877 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:55,878 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.68s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:36:55,921 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:55,922 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.67s ago] {'param_1': 30}

2024-11-13 18:36:55,945 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:55,946 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.67s ago] {'param_1': 30}

2024-11-13 18:36:55,968 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:55,969 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.67s ago] {'param_1': 30}

2024-11-13 18:36:55,992 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:55,993 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.67s ago] {'param_1': 30}

2024-11-13 18:36:56,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:56,036 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.68s ago] {'param_1': 30}

2024-11-13 18:36:56,062 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:56,063 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.81s ago] {'param_1': 30}

2024-11-13 18:36:56,086 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:56,087 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.81s ago] {'param_1': 30}

2024-11-13 18:36:56,109 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:56,110 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.81s ago] {'param_1': 30}

2024-11-13 18:36:56,132 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:56,133 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.81s ago] {'param_1': 30}

2024-11-13 18:36:56,157 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:36:56,158 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.68s ago] {'param_1': 30}

2024-11-13 18:36:56,182 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:56,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.83s ago] {'param_1': 30}

2024-11-13 18:36:56,207 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:36:56,208 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.68s ago] {'param_1': 30}

2024-11-13 18:36:56,231 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:36:56,231 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.68s ago] {'id': 30}

2024-11-13 18:36:56,254 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:56,403 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:56,404 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:36:56,405 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.69s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$t1yRnIwD9clF5P2L$42bfb64dd01337f9f6f35ad59730db2de419f427c5683c7777d3b226f14b0594b63b761fb325a2f8b5955a7c01cef6f9239a9a6f736018561174f3fc604f51db', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 36, 56, 276917)}

2024-11-13 18:36:56,449 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:56,495 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:56,497 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:36:56,497 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.68s ago] {'pk_1': 31}

2024-11-13 18:36:56,542 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/advanced-analysis
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/dream/advanced-analysis

2024-11-13 18:36:56,543 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/advanced-analysis
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/dream/advanced-analysis

2024-11-13 18:36:56,548 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:56,592 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:56,595 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:36:56,596 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,640 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:36:56,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,664 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:36:56,664 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,686 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:36:56,687 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,710 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:36:56,711 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,733 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:36:56,734 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,755 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:36:56,761 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,783 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:36:56,784 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.59s ago] {}

2024-11-13 18:36:56,806 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:56,807 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:56,830 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:36:56,834 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:36:56,857 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:56,858 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:36:56,858 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.56s ago] {}

2024-11-13 18:36:56,902 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:36:56,903 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:36:56,903 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {}

2024-11-13 18:36:56,926 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:36:56,927 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:36:56,927 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {}

2024-11-13 18:36:56,950 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:36:56,951 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:36:56,951 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {}

2024-11-13 18:36:56,974 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:36:56,974 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:36:56,975 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {}

2024-11-13 18:36:56,998 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:36:56,999 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:36:56,999 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {}

2024-11-13 18:36:57,022 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:36:57,023 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:36:57,023 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {}

2024-11-13 18:36:57,046 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:36:57,047 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:36:57,047 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {}

2024-11-13 18:36:57,071 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:57,072 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:57,094 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:36:57,095 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:36:57,117 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:57,117 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,118 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.08s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,162 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,163 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.12s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,185 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,185 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.14s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,208 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,209 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.17s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,235 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,235 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.19s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,258 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,259 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.22s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,287 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,288 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.25s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,311 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,312 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.27s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,334 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:57,401 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:57,402 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:57,402 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.56s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:57,446 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:57,490 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:57,491 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:36:57,491 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.56s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:36:57,605 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:57,606 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.58s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:36:57,673 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:57,674 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.57s ago] {'typtype_1': 'e'}

2024-11-13 18:36:57,696 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:57,718 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:36:57,719 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:36:57,743 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:57,744 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:57,744 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.54s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:36:57,788 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:57,789 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.54s ago] {'param_1': 31}

2024-11-13 18:36:57,812 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:57,812 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.54s ago] {'param_1': 31}

2024-11-13 18:36:57,835 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:57,836 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.54s ago] {'param_1': 31}

2024-11-13 18:36:57,859 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:57,860 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {'param_1': 31}

2024-11-13 18:36:57,883 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:57,884 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {'param_1': 31}

2024-11-13 18:36:57,907 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:57,908 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.66s ago] {'param_1': 31}

2024-11-13 18:36:57,932 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:57,932 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.66s ago] {'param_1': 31}

2024-11-13 18:36:57,955 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:57,957 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.66s ago] {'param_1': 31}

2024-11-13 18:36:57,980 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:57,981 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.65s ago] {'param_1': 31}

2024-11-13 18:36:58,004 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:36:58,006 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {'param_1': 31}

2024-11-13 18:36:58,029 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:58,032 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.68s ago] {'param_1': 31}

2024-11-13 18:36:58,055 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:36:58,056 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {'param_1': 31}

2024-11-13 18:36:58,079 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:36:58,080 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {'id': 31}

2024-11-13 18:36:58,103 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:58,257 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:58,259 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:36:58,261 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.55s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$BG2R13iZlnLKiXeh$08eb7b8e8854b8e06c1dcfa048c9c7cb2cbd86e388faa84c02f151fad79a0f8dd72d5e22355951fc67159888b0cb84cd386d23f25d0bbb0babedea29084f4a31', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 36, 58, 126286)}

2024-11-13 18:36:58,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:58,355 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:58,356 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:36:58,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.54s ago] {'pk_1': 32}

2024-11-13 18:36:58,405 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT count(*) AS count_1 
FROM (SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE user_activity.user_id = %(user_id_1)s) AS anon_1

2024-11-13 18:36:58,406 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00081s] {'user_id_1': 32}

2024-11-13 18:36:58,429 - - - 127.0.0.1 - GET http://localhost.localdomain/
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/

2024-11-13 18:36:58,449 - - - 127.0.0.1 - GET http://localhost.localdomain/
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/

2024-11-13 18:36:58,453 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/patterns
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/dream/patterns

2024-11-13 18:36:58,455 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/patterns
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/dream/patterns

2024-11-13 18:36:58,460 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/dream/new

2024-11-13 18:36:58,462 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/dream/new

2024-11-13 18:36:58,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT count(*) AS count_1 
FROM (SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE user_activity.user_id = %(user_id_1)s) AS anon_1

2024-11-13 18:36:58,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 0.06002s ago] {'user_id_1': 32}

2024-11-13 18:36:58,495 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:58,541 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:58,542 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:36:58,542 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,585 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:36:58,586 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,608 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:36:58,609 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,631 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:36:58,632 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:36:58,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:36:58,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:36:58,700 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:36:58,723 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.53s ago] {}

2024-11-13 18:36:58,745 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:58,746 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:58,768 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:36:58,771 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:36:58,794 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:58,795 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:36:58,796 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.49s ago] {}

2024-11-13 18:36:58,841 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:36:58,842 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:36:58,843 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.49s ago] {}

2024-11-13 18:36:58,867 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:36:58,869 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:36:58,870 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.49s ago] {}

2024-11-13 18:36:58,892 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:36:58,894 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:36:58,894 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.49s ago] {}

2024-11-13 18:36:58,917 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:36:58,918 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:36:58,919 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.49s ago] {}

2024-11-13 18:36:58,942 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:36:58,942 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:36:58,943 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.5s ago] {}

2024-11-13 18:36:58,966 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:36:58,966 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:36:58,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.49s ago] {}

2024-11-13 18:36:58,999 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:36:59,003 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:36:59,005 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.51s ago] {}

2024-11-13 18:36:59,029 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:36:59,030 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:59,054 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:36:59,054 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:36:59,076 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:59,077 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,077 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.04s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,121 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,122 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.08s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,145 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,146 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.1s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,171 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,172 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.13s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,194 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,195 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.15s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,218 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,219 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.18s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,244 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,244 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.2s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.23s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,290 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:36:59,356 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:59,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:36:59,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.52s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:36:59,404 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:59,447 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:59,448 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:36:59,449 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.52s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:36:59,537 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:59,537 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.51s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:36:59,605 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:36:59,606 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.51s ago] {'typtype_1': 'e'}

2024-11-13 18:36:59,628 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:36:59,651 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:36:59,651 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:36:59,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:36:59,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:36:59,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.48s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:36:59,721 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:59,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.47s ago] {'param_1': 32}

2024-11-13 18:36:59,745 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:59,748 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.47s ago] {'param_1': 32}

2024-11-13 18:36:59,771 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:59,771 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.47s ago] {'param_1': 32}

2024-11-13 18:36:59,794 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:59,795 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.47s ago] {'param_1': 32}

2024-11-13 18:36:59,819 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:59,820 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.47s ago] {'param_1': 32}

2024-11-13 18:36:59,844 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:36:59,845 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.6s ago] {'param_1': 32}

2024-11-13 18:36:59,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:36:59,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.59s ago] {'param_1': 32}

2024-11-13 18:36:59,892 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:36:59,892 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.59s ago] {'param_1': 32}

2024-11-13 18:36:59,916 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:36:59,917 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.59s ago] {'param_1': 32}

2024-11-13 18:36:59,940 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:36:59,941 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.46s ago] {'param_1': 32}

2024-11-13 18:36:59,964 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:36:59,965 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.61s ago] {'param_1': 32}

2024-11-13 18:36:59,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:36:59,990 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.46s ago] {'param_1': 32}

2024-11-13 18:37:00,013 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:37:00,013 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.46s ago] {'id': 32}

2024-11-13 18:37:00,037 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:00,193 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:00,194 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:37:00,195 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.48s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$UP7izYGAVqkLweeh$d538cf2e22e21ae1aed71b95f4c8bd39f1320adf717830cb6901ea667766c11446f143fa0b9300368b88afc32b051301023e9e5da6a0122480d0c1fd8f100a4c', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 37, 0, 61183)}

2024-11-13 18:37:00,240 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:00,286 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:00,288 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:37:00,288 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.48s ago] {'pk_1': 33}

2024-11-13 18:37:00,335 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream (user_id, title, content, date, mood, sentiment_score, sentiment_magnitude, dominant_emotions, lucidity_level, tags, is_public, is_anonymous, ai_analysis, sleep_duration, sleep_quality, bed_time, wake_time, sleep_interruptions, sleep_position) VALUES (%(user_id)s, %(title)s, %(content)s, %(date)s, %(mood)s, %(sentiment_score)s, %(sentiment_magnitude)s, %(dominant_emotions)s, %(lucidity_level)s, %(tags)s, %(is_public)s, %(is_anonymous)s, %(ai_analysis)s, %(sleep_duration)s, %(sleep_quality)s, %(bed_time)s, %(wake_time)s, %(sleep_interruptions)s, %(sleep_position)s) RETURNING dream.id

2024-11-13 18:37:00,336 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.36s ago] {'user_id': 33, 'title': 'Test Dream', 'content': 'Test dream content', 'date': datetime.datetime(2024, 11, 13, 18, 37, 0, 335054), 'mood': 'happy', 'sentiment_score': None, 'sentiment_magnitude': None, 'dominant_emotions': None, 'lucidity_level': 3, 'tags': 'test,dream', 'is_public': True, 'is_anonymous': False, 'ai_analysis': None, 'sleep_duration': None, 'sleep_quality': 4, 'bed_time': None, 'wake_time': None, 'sleep_interruptions': 0, 'sleep_position': 'back'}

2024-11-13 18:37:00,360 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:00,405 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:00,409 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:37:00,409 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.6s ago] {'pk_1': 33}

2024-11-13 18:37:00,456 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE dream.id = %(pk_1)s

2024-11-13 18:37:00,457 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00101s] {'pk_1': 2}

2024-11-13 18:37:00,480 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/2/analyze
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/dream/2/analyze

2024-11-13 18:37:00,481 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/2/analyze
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/dream/2/analyze

2024-11-13 18:37:00,484 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: UPDATE "user" SET monthly_ai_analysis_count=%(monthly_ai_analysis_count)s WHERE "user".id = %(user_id)s

2024-11-13 18:37:00,485 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00163s] {'monthly_ai_analysis_count': 1, 'user_id': 33}

2024-11-13 18:37:00,517 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:00,562 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:00,563 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:37:00,564 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.75s ago] {'pk_1': 33}

2024-11-13 18:37:00,615 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:00,658 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:00,659 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:00,660 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.65s ago] {}

2024-11-13 18:37:00,704 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:00,704 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.65s ago] {}

2024-11-13 18:37:00,727 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:00,728 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.65s ago] {}

2024-11-13 18:37:00,749 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:00,751 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.65s ago] {}

2024-11-13 18:37:00,773 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:00,774 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.65s ago] {}

2024-11-13 18:37:00,796 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:00,797 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.65s ago] {}

2024-11-13 18:37:00,819 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:00,820 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.65s ago] {}

2024-11-13 18:37:00,883 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:00,884 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.69s ago] {}

2024-11-13 18:37:00,906 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:00,906 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:00,928 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:00,933 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:00,955 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:00,956 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:00,957 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.66s ago] {}

2024-11-13 18:37:01,001 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:01,002 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:01,003 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.65s ago] {}

2024-11-13 18:37:01,027 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:01,028 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:01,028 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.65s ago] {}

2024-11-13 18:37:01,051 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:01,052 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:01,052 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.65s ago] {}

2024-11-13 18:37:01,075 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:01,076 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:01,076 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.65s ago] {}

2024-11-13 18:37:01,099 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:01,100 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:01,101 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.65s ago] {}

2024-11-13 18:37:01,123 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:01,124 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:01,125 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.65s ago] {}

2024-11-13 18:37:01,148 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:01,149 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:01,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.65s ago] {}

2024-11-13 18:37:01,171 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:01,172 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:01,194 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:01,196 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:01,218 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:01,221 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,221 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.18s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,268 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.23s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,293 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.25s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,317 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,318 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.28s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,341 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,342 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.3s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,365 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,366 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.32s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,388 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,390 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.35s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,417 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,705 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.66s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,728 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:01,794 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:01,794 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:01,795 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.96s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:01,839 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:01,883 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:01,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:01,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.95s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:01,973 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:01,977 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.95s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:02,041 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:02,041 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.94s ago] {'typtype_1': 'e'}

2024-11-13 18:37:02,065 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:02,087 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:02,087 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:02,215 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:02,217 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:37:02,218 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 18.5s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$4fbsv1PFtW2ferLm$4673882b7d9b37eca3b87320703e04f98256e92b1898c59e6a1e3856c0987eb032ef42b4a33378f9d38891851616afb016eedcb3605e5567522dd6c847f5370c', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 37, 2, 89169)}

2024-11-13 18:37:02,273 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:02,297 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: test_models
Message: Database error in test_user_creation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "user_username_key"
DETAIL:  Key (username)=(testuser) already exists.

[SQL: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id]
[parameters: {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$4fbsv1PFtW2ferLm$4673882b7d9b37eca3b87320703e04f98256e92b1898c59e6a1e3856c0987eb032ef42b4a33378f9d38891851616afb016eedcb3605e5567522dd6c847f5370c', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 37, 2, 89169)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-13 18:37:03,014 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:03,018 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:03,018 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.01s ago] {}

2024-11-13 18:37:03,077 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:03,078 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.02s ago] {}

2024-11-13 18:37:03,100 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:03,101 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.02s ago] {}

2024-11-13 18:37:03,123 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:03,124 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.02s ago] {}

2024-11-13 18:37:03,148 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:03,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.03s ago] {}

2024-11-13 18:37:03,174 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:03,176 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.03s ago] {}

2024-11-13 18:37:03,199 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:03,200 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.03s ago] {}

2024-11-13 18:37:03,225 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:03,227 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.03s ago] {}

2024-11-13 18:37:03,249 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:03,251 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:03,272 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:03,279 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:03,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:03,311 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:03,314 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.01s ago] {}

2024-11-13 18:37:03,360 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:03,361 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:03,361 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.01s ago] {}

2024-11-13 18:37:03,384 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:03,385 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:03,396 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {}

2024-11-13 18:37:03,418 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:03,419 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:03,420 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {}

2024-11-13 18:37:03,442 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:03,443 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:03,443 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {}

2024-11-13 18:37:03,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:03,466 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:03,466 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {}

2024-11-13 18:37:03,494 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:03,495 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:03,496 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {}

2024-11-13 18:37:03,518 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:03,519 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:03,520 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {}

2024-11-13 18:37:03,542 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:03,544 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:03,565 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:03,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:03,588 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:03,589 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,590 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.55s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,634 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,635 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.59s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,657 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,658 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.62s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,681 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,682 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.64s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,706 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,707 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.66s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,730 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,731 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.69s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,753 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,754 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.71s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,776 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,777 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.73s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,799 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:03,867 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:03,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:03,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.03s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:03,915 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:03,959 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:03,960 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:03,961 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.03s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:04,049 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:04,049 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:04,117 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:04,117 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.02s ago] {'typtype_1': 'e'}

2024-11-13 18:37:04,140 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:04,162 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:04,163 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:04,186 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:04,187 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:04,187 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 20.99s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:37:04,232 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:04,232 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 20.98s ago] {'param_1': 33}

2024-11-13 18:37:04,255 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-13 18:37:04,256 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.85s ago] {'param_1': 2}

2024-11-13 18:37:04,280 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:04,280 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.01s ago] {'param_1': 33}

2024-11-13 18:37:04,303 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:04,304 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21s ago] {'param_1': 33}

2024-11-13 18:37:04,327 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:04,328 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21s ago] {'param_1': 33}

2024-11-13 18:37:04,352 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:04,352 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21s ago] {'param_1': 33}

2024-11-13 18:37:04,376 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:04,376 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.13s ago] {'param_1': 33}

2024-11-13 18:37:04,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:04,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.13s ago] {'param_1': 33}

2024-11-13 18:37:04,423 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:04,424 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.12s ago] {'param_1': 33}

2024-11-13 18:37:04,447 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:04,449 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.12s ago] {'param_1': 33}

2024-11-13 18:37:04,472 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:37:04,473 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 20.99s ago] {'param_1': 33}

2024-11-13 18:37:04,497 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:04,498 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.15s ago] {'param_1': 33}

2024-11-13 18:37:04,521 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:37:04,522 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 20.99s ago] {'param_1': 33}

2024-11-13 18:37:04,545 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-13 18:37:04,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 17.14s ago] {'param_1': 2}

2024-11-13 18:37:04,568 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream WHERE dream.id = %(id)s

2024-11-13 18:37:04,569 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 16.84s ago] {'id': 2}

2024-11-13 18:37:04,593 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:37:04,593 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.04s ago] {'id': 33}

2024-11-13 18:37:04,616 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:04,769 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:04,770 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:37:04,771 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.06s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$xZP4ifBbY5Pxe1Fz$131ab05503ecc5bfb88011c9ec4ecc982bcbd5ca7f6159660da299db78f52fdfbe6f125b488ed25794b99f4d13fb07bfcc83775afe8c00e0aa61c4a755abd0c0', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 37, 4, 638926)}

2024-11-13 18:37:04,815 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:04,861 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:04,862 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:37:04,863 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.05s ago] {'pk_1': 35}

2024-11-13 18:37:05,044 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:05,045 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream (user_id, title, content, date, mood, sentiment_score, sentiment_magnitude, dominant_emotions, lucidity_level, tags, is_public, is_anonymous, ai_analysis, sleep_duration, sleep_quality, bed_time, wake_time, sleep_interruptions, sleep_position) VALUES (%(user_id)s, %(title)s, %(content)s, %(date)s, %(mood)s, %(sentiment_score)s, %(sentiment_magnitude)s, %(dominant_emotions)s, %(lucidity_level)s, %(tags)s, %(is_public)s, %(is_anonymous)s, %(ai_analysis)s, %(sleep_duration)s, %(sleep_quality)s, %(bed_time)s, %(wake_time)s, %(sleep_interruptions)s, %(sleep_position)s) RETURNING dream.id

2024-11-13 18:37:05,046 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.07s ago] {'user_id': 35, 'title': 'Test Dream', 'content': 'Test content', 'date': datetime.datetime(2024, 11, 13, 18, 37, 4, 906535), 'mood': 'happy', 'sentiment_score': None, 'sentiment_magnitude': None, 'dominant_emotions': None, 'lucidity_level': 3, 'tags': 'test,dream', 'is_public': True, 'is_anonymous': False, 'ai_analysis': None, 'sleep_duration': None, 'sleep_quality': 4, 'bed_time': None, 'wake_time': None, 'sleep_interruptions': 0, 'sleep_position': 'back'}

2024-11-13 18:37:05,094 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:05,137 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:05,139 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE dream.title = %(title_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:05,139 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00061s] {'title_1': 'Test Dream', 'param_1': 1}

2024-11-13 18:37:05,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:05,184 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.94s ago] {'param_1': 35}

2024-11-13 18:37:05,209 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:05,235 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:05,279 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:05,281 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:05,282 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,323 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:05,325 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,347 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:05,348 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,369 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:05,370 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,392 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:05,393 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,416 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:05,416 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,438 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:05,439 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,460 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:05,461 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.27s ago] {}

2024-11-13 18:37:05,482 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:05,484 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:05,505 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:05,508 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:05,530 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:05,532 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:05,532 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,576 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:05,577 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:05,577 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,601 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:05,602 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:05,603 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,625 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:05,626 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:05,627 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,649 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:05,650 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:05,651 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,673 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:05,674 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:05,674 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,697 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:05,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:05,700 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,723 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:05,724 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:05,724 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {}

2024-11-13 18:37:05,746 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:05,747 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:05,769 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:05,770 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:05,791 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:05,792 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,793 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.75s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,836 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,836 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.79s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,858 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,859 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.82s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,881 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,881 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.84s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,903 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,904 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.86s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,926 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,927 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.88s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,948 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,949 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.91s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,971 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:05,972 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.93s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:05,993 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:06,057 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:06,058 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:06,058 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.22s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:06,101 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:06,144 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:06,145 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:06,145 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.21s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:06,233 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:06,233 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.21s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:06,301 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:06,301 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.2s ago] {'typtype_1': 'e'}

2024-11-13 18:37:06,325 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:06,347 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:06,347 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:06,369 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:06,371 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:06,371 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.17s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:37:06,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:06,415 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.17s ago] {'param_1': 35}

2024-11-13 18:37:06,437 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-13 18:37:06,438 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.03s ago] {'param_1': 3}

2024-11-13 18:37:06,461 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:06,462 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.19s ago] {'param_1': 35}

2024-11-13 18:37:06,489 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:06,490 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.19s ago] {'param_1': 35}

2024-11-13 18:37:06,512 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:06,513 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.19s ago] {'param_1': 35}

2024-11-13 18:37:06,536 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:06,537 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.18s ago] {'param_1': 35}

2024-11-13 18:37:06,560 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-13 18:37:06,561 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.16s ago] {'param_1': 3}

2024-11-13 18:37:06,585 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:06,586 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.34s ago] {'param_1': 35}

2024-11-13 18:37:06,610 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:06,610 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.34s ago] {'param_1': 35}

2024-11-13 18:37:06,633 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:06,634 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.33s ago] {'param_1': 35}

2024-11-13 18:37:06,656 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:06,657 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.33s ago] {'param_1': 35}

2024-11-13 18:37:06,681 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:37:06,682 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.2s ago] {'param_1': 35}

2024-11-13 18:37:06,705 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:06,706 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.35s ago] {'param_1': 35}

2024-11-13 18:37:06,728 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:37:06,728 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.2s ago] {'param_1': 35}

2024-11-13 18:37:06,751 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream WHERE dream.id = %(id)s

2024-11-13 18:37:06,752 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.02s ago] {'id': 3}

2024-11-13 18:37:06,774 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:37:06,774 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.22s ago] {'id': 35}

2024-11-13 18:37:06,799 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:06,941 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:06,944 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:37:06,945 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.23s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$Bv8uHCTHtEnRUqcg$67c314414901401c1053a4b49882316c7c06620a36cb12668fb918ac54650fb97a2a88cb558319663c8d07d4b30c687f910918450314331f3b02c71c3138cb26', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 37, 6, 821227)}

2024-11-13 18:37:06,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:07,034 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:07,035 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:37:07,036 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.22s ago] {'pk_1': 36}

2024-11-13 18:37:07,079 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream (user_id, title, content, date, mood, sentiment_score, sentiment_magnitude, dominant_emotions, lucidity_level, tags, is_public, is_anonymous, ai_analysis, sleep_duration, sleep_quality, bed_time, wake_time, sleep_interruptions, sleep_position) VALUES (%(user_id)s, %(title)s, %(content)s, %(date)s, %(mood)s, %(sentiment_score)s, %(sentiment_magnitude)s, %(dominant_emotions)s, %(lucidity_level)s, %(tags)s, %(is_public)s, %(is_anonymous)s, %(ai_analysis)s, %(sleep_duration)s, %(sleep_quality)s, %(bed_time)s, %(wake_time)s, %(sleep_interruptions)s, %(sleep_position)s) RETURNING dream.id

2024-11-13 18:37:07,080 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.11s ago] {'user_id': 36, 'title': 'Test Dream', 'content': 'Test dream content', 'date': datetime.datetime(2024, 11, 13, 18, 37, 7, 78707), 'mood': 'happy', 'sentiment_score': None, 'sentiment_magnitude': None, 'dominant_emotions': None, 'lucidity_level': 3, 'tags': 'test,dream', 'is_public': True, 'is_anonymous': False, 'ai_analysis': None, 'sleep_duration': None, 'sleep_quality': 4, 'bed_time': None, 'wake_time': None, 'sleep_interruptions': 0, 'sleep_position': 'back'}

2024-11-13 18:37:07,102 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:07,147 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:07,148 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:37:07,148 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.34s ago] {'pk_1': 36}

2024-11-13 18:37:07,192 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE dream.id = %(pk_1)s

2024-11-13 18:37:07,193 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.737s ago] {'pk_1': 4}

2024-11-13 18:37:07,236 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:07,238 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO comment (content, user_id, dream_id, created_at) VALUES (%(content)s, %(user_id)s, %(dream_id)s, %(created_at)s) RETURNING comment.id

2024-11-13 18:37:07,239 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00084s] {'content': 'Test comment', 'user_id': 36, 'dream_id': 4, 'created_at': datetime.datetime(2024, 11, 13, 18, 37, 7, 215506)}

2024-11-13 18:37:07,283 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:07,325 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:07,327 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE comment.content = %(content_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:07,327 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00046s] {'content_1': 'Test comment', 'param_1': 1}

2024-11-13 18:37:07,370 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-13 18:37:07,371 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 19.97s ago] {'param_1': 4}

2024-11-13 18:37:07,393 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:07,421 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:07,476 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:07,477 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:07,477 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.47s ago] {}

2024-11-13 18:37:07,519 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:07,520 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.47s ago] {}

2024-11-13 18:37:07,541 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:07,542 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.46s ago] {}

2024-11-13 18:37:07,563 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:07,564 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.46s ago] {}

2024-11-13 18:37:07,586 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:07,586 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.46s ago] {}

2024-11-13 18:37:07,608 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:07,609 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.46s ago] {}

2024-11-13 18:37:07,631 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:07,632 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.46s ago] {}

2024-11-13 18:37:07,653 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:07,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 23.46s ago] {}

2024-11-13 18:37:07,675 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:07,678 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:07,700 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:07,703 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:07,744 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:07,748 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:07,749 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.45s ago] {}

2024-11-13 18:37:07,811 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:07,813 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:07,814 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.46s ago] {}

2024-11-13 18:37:07,836 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:07,837 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:07,838 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.46s ago] {}

2024-11-13 18:37:07,860 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:07,861 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:07,862 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.46s ago] {}

2024-11-13 18:37:07,884 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:07,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:07,886 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.46s ago] {}

2024-11-13 18:37:07,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:07,910 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:07,910 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.46s ago] {}

2024-11-13 18:37:07,933 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:07,934 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:07,934 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.46s ago] {}

2024-11-13 18:37:07,956 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:07,957 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:07,958 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.46s ago] {}

2024-11-13 18:37:07,980 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:07,980 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:08,002 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:08,003 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:08,024 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:08,026 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,026 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.98s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,068 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,069 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 26.03s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,091 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,091 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 26.05s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,113 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,114 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 26.07s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,135 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,136 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 26.09s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,158 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 26.12s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,181 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,182 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 26.14s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,203 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,204 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 26.16s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,226 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:08,290 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:08,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:08,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.45s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:08,333 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:08,375 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:08,376 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:08,377 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.44s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:08,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:08,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.44s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:08,533 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:08,533 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.43s ago] {'typtype_1': 'e'}

2024-11-13 18:37:08,556 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:08,577 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:08,578 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:08,600 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:08,633 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:08,634 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.43s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:37:08,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:08,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.43s ago] {'param_1': 36}

2024-11-13 18:37:08,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-13 18:37:08,700 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.3s ago] {'param_1': 4}

2024-11-13 18:37:08,723 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:08,724 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.45s ago] {'param_1': 36}

2024-11-13 18:37:08,746 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:08,747 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.45s ago] {'param_1': 36}

2024-11-13 18:37:08,769 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:08,770 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.44s ago] {'param_1': 36}

2024-11-13 18:37:08,792 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:08,792 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.44s ago] {'param_1': 36}

2024-11-13 18:37:08,815 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-13 18:37:08,816 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.41s ago] {'param_1': 4}

2024-11-13 18:37:08,838 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:08,839 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.59s ago] {'param_1': 36}

2024-11-13 18:37:08,861 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:08,862 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.59s ago] {'param_1': 36}

2024-11-13 18:37:08,884 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:08,884 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.58s ago] {'param_1': 36}

2024-11-13 18:37:08,906 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:08,907 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.58s ago] {'param_1': 36}

2024-11-13 18:37:08,929 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:37:08,930 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.45s ago] {'param_1': 36}

2024-11-13 18:37:08,953 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:08,953 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.6s ago] {'param_1': 36}

2024-11-13 18:37:08,976 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:37:08,976 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.45s ago] {'param_1': 36}

2024-11-13 18:37:08,999 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment WHERE comment.id = %(id)s

2024-11-13 18:37:08,999 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00071s] {'id': 1}

2024-11-13 18:37:09,022 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream WHERE dream.id = %(id)s

2024-11-13 18:37:09,022 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 21.29s ago] {'id': 4}

2024-11-13 18:37:09,044 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM "user" WHERE "user".id = %(id)s

2024-11-13 18:37:09,044 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.49s ago] {'id': 36}

2024-11-13 18:37:09,067 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:09,195 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:09,196 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:37:09,197 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.48s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$mVSpnzUS4zMRgwws$41d86241c7f0514637673b2a381081daf980854612cd65466ea927b469c464c25907ad3671ffaa4836776bcdfe97e9534c2d3968d63ebf3ee16a0b2280502e8e', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 37, 9, 88856)}

2024-11-13 18:37:09,242 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:09,286 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:09,287 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:37:09,287 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.47s ago] {'pk_1': 37}

2024-11-13 18:37:09,351 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:09,353 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream_group (name, description, created_by, created_at) VALUES (%(name)s, %(description)s, %(created_by)s, %(created_at)s) RETURNING dream_group.id

2024-11-13 18:37:09,354 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00060s] {'name': 'Test Group', 'description': 'Test description', 'created_by': 37, 'created_at': datetime.datetime(2024, 11, 13, 18, 37, 9, 329667)}

2024-11-13 18:37:09,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:09,444 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:09,446 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE dream_group.id = %(pk_1)s

2024-11-13 18:37:09,447 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00079s] {'pk_1': 1}

2024-11-13 18:37:09,492 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO group_membership (user_id, group_id, is_admin, joined_at) VALUES (%(user_id)s, %(group_id)s, %(is_admin)s, %(joined_at)s)

2024-11-13 18:37:09,492 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00072s] {'user_id': 37, 'group_id': 1, 'is_admin': True, 'joined_at': datetime.datetime(2024, 11, 13, 18, 37, 9, 490587)}

2024-11-13 18:37:09,516 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:09,560 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:09,561 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE dream_group.name = %(name_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:09,562 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00063s] {'name_1': 'Test Group', 'param_1': 1}

2024-11-13 18:37:09,607 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user", group_membership 
WHERE %(param_1)s = group_membership.group_id AND "user".id = group_membership.user_id

2024-11-13 18:37:09,607 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00088s] {'param_1': 1}

2024-11-13 18:37:09,632 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT group_membership.user_id AS group_membership_user_id, group_membership.group_id AS group_membership_group_id, group_membership.is_admin AS group_membership_is_admin, group_membership.joined_at AS group_membership_joined_at 
FROM group_membership 
WHERE group_membership.user_id = %(user_id_1)s AND group_membership.group_id = %(group_id_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:09,633 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00108s] {'user_id_1': 37, 'group_id_1': 1, 'param_1': 1}

2024-11-13 18:37:09,655 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:09,678 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:09,721 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:09,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:09,723 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:09,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,788 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:09,789 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,810 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:09,811 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,833 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:09,834 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,856 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:09,857 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,879 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:09,880 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,902 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:09,903 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 25.71s ago] {}

2024-11-13 18:37:09,925 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:09,925 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:09,947 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:09,950 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:09,971 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:09,972 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:09,973 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.67s ago] {}

2024-11-13 18:37:10,015 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:10,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:10,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.67s ago] {}

2024-11-13 18:37:10,039 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:10,040 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:10,040 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.67s ago] {}

2024-11-13 18:37:10,063 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:10,064 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:10,064 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.66s ago] {}

2024-11-13 18:37:10,086 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:10,087 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:10,088 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.66s ago] {}

2024-11-13 18:37:10,109 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:10,110 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:10,111 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.66s ago] {}

2024-11-13 18:37:10,132 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:10,133 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:10,134 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.66s ago] {}

2024-11-13 18:37:10,156 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:10,157 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:10,157 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.66s ago] {}

2024-11-13 18:37:10,178 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:10,179 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:10,200 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:10,201 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:10,222 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:10,223 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,224 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.18s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,268 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.23s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.25s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,313 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,314 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.27s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,336 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,337 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.3s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,359 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,360 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.32s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,382 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,383 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.34s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,406 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,407 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 28.37s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,431 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:10,499 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:10,500 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:10,501 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.66s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:10,543 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:10,587 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:10,588 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:10,588 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.66s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:10,672 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:10,673 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.65s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:10,740 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:10,741 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.64s ago] {'typtype_1': 'e'}

2024-11-13 18:37:10,763 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:10,784 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:10,788 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:10,811 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:10,812 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:10,813 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.61s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:37:10,862 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:10,863 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.61s ago] {'param_1': 37}

2024-11-13 18:37:10,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:10,886 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.61s ago] {'param_1': 37}

2024-11-13 18:37:10,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:10,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.61s ago] {'param_1': 37}

2024-11-13 18:37:10,933 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:10,933 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.61s ago] {'param_1': 37}

2024-11-13 18:37:10,957 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:10,958 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.61s ago] {'param_1': 37}

2024-11-13 18:37:10,980 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:10,981 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.73s ago] {'param_1': 37}

2024-11-13 18:37:11,004 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:11,005 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.73s ago] {'param_1': 37}

2024-11-13 18:37:11,027 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:11,028 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.73s ago] {'param_1': 37}

2024-11-13 18:37:11,050 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:11,051 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.72s ago] {'param_1': 37}

2024-11-13 18:37:11,074 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:37:11,074 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.6s ago] {'param_1': 37}

2024-11-13 18:37:11,097 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:11,098 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.75s ago] {'param_1': 37}

2024-11-13 18:37:11,121 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:37:11,121 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.59s ago] {'param_1': 37}

2024-11-13 18:37:11,145 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership WHERE group_membership.user_id = %(user_id)s AND group_membership.group_id = %(group_id)s

2024-11-13 18:37:11,146 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00088s] {'user_id': 37, 'group_id': 1}

2024-11-13 18:37:11,168 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: UPDATE dream_group SET created_by=%(created_by)s WHERE dream_group.id = %(dream_group_id)s

2024-11-13 18:37:11,169 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00080s] {'created_by': None, 'dream_group_id': 1}

2024-11-13 18:37:11,191 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:11,213 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Failed to create test user: (psycopg2.errors.NotNullViolation) null value in column "created_by" of relation "dream_group" violates not-null constraint
DETAIL:  Failing row contains (1, Test Group, Test description, null, 2024-11-13 18:37:09.329667).

[SQL: UPDATE dream_group SET created_by=%(created_by)s WHERE dream_group.id = %(dream_group_id)s]
[parameters: {'created_by': None, 'dream_group_id': 1}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-13 18:37:11,907 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:11,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:11,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.9s ago] {}

2024-11-13 18:37:11,968 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:11,969 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.91s ago] {}

2024-11-13 18:37:11,990 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:11,991 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.91s ago] {}

2024-11-13 18:37:12,013 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:12,015 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.92s ago] {}

2024-11-13 18:37:12,037 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:12,038 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.91s ago] {}

2024-11-13 18:37:12,059 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:12,060 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.91s ago] {}

2024-11-13 18:37:12,082 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:12,083 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.91s ago] {}

2024-11-13 18:37:12,104 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:12,105 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 27.91s ago] {}

2024-11-13 18:37:12,126 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:12,127 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:12,148 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:12,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:12,172 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:12,173 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:12,174 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,217 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:12,218 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:12,219 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,241 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:12,242 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:12,243 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,265 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:12,266 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:12,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,290 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:12,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:12,292 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,319 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:12,320 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:12,320 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,344 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:12,345 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:12,347 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,369 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:12,370 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:12,371 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.87s ago] {}

2024-11-13 18:37:12,392 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:12,393 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:12,417 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:12,418 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:12,440 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:12,441 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,441 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.4s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,485 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,485 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.44s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,507 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,509 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.47s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,531 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,532 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.49s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,576 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,577 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.54s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,604 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,604 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.56s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,626 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,627 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.59s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,648 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,649 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.61s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,670 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:12,734 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:12,735 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:12,736 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.9s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:12,778 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:12,821 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:12,822 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:12,823 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.89s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:12,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:12,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.88s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:12,977 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:12,978 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.88s ago] {'typtype_1': 'e'}

2024-11-13 18:37:13,000 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:13,022 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:13,023 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:13,045 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:13,046 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:13,048 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.85s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:37:13,091 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:13,092 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.84s ago] {'param_1': 37}

2024-11-13 18:37:13,114 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:13,115 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.84s ago] {'param_1': 37}

2024-11-13 18:37:13,137 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:13,138 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.84s ago] {'param_1': 37}

2024-11-13 18:37:13,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:13,161 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.83s ago] {'param_1': 37}

2024-11-13 18:37:13,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:13,184 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.83s ago] {'param_1': 37}

2024-11-13 18:37:13,206 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:13,207 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.96s ago] {'param_1': 37}

2024-11-13 18:37:13,235 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:13,235 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.96s ago] {'param_1': 37}

2024-11-13 18:37:13,258 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:13,259 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.96s ago] {'param_1': 37}

2024-11-13 18:37:13,284 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:13,285 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.96s ago] {'param_1': 37}

2024-11-13 18:37:13,307 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group, group_membership 
WHERE %(param_1)s = group_membership.user_id AND dream_group.id = group_membership.group_id

2024-11-13 18:37:13,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.83s ago] {'param_1': 37}

2024-11-13 18:37:13,331 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:13,332 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.98s ago] {'param_1': 37}

2024-11-13 18:37:13,355 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE %(param_1)s = dream_group.created_by

2024-11-13 18:37:13,356 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 29.83s ago] {'param_1': 37}

2024-11-13 18:37:13,384 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership WHERE group_membership.user_id = %(user_id)s AND group_membership.group_id = %(group_id)s

2024-11-13 18:37:13,385 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 2.24s ago] {'user_id': 37, 'group_id': 1}

2024-11-13 18:37:13,406 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: UPDATE dream_group SET created_by=%(created_by)s WHERE dream_group.id = %(dream_group_id)s

2024-11-13 18:37:13,407 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 2.239s ago] {'created_by': None, 'dream_group_id': 1}

2024-11-13 18:37:13,429 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:13,456 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Failed to create test user: (psycopg2.errors.NotNullViolation) null value in column "created_by" of relation "dream_group" violates not-null constraint
DETAIL:  Failing row contains (1, Test Group, Test description, null, 2024-11-13 18:37:09.329667).

[SQL: UPDATE dream_group SET created_by=%(created_by)s WHERE dream_group.id = %(dream_group_id)s]
[parameters: {'created_by': None, 'dream_group_id': 1}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-13 18:37:14,199 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:14,201 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:14,202 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.19s ago] {}

2024-11-13 18:37:14,245 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:14,246 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.19s ago] {}

2024-11-13 18:37:14,271 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:14,272 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.2s ago] {}

2024-11-13 18:37:14,302 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:14,304 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.2s ago] {}

2024-11-13 18:37:14,328 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:14,339 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.21s ago] {}

2024-11-13 18:37:14,361 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:14,362 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.21s ago] {}

2024-11-13 18:37:14,384 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:14,386 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.21s ago] {}

2024-11-13 18:37:14,408 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:14,410 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 30.22s ago] {}

2024-11-13 18:37:14,433 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:14,436 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:14,462 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:14,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:14,493 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:14,494 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:14,498 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.2s ago] {}

2024-11-13 18:37:14,541 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:14,542 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:14,543 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {}

2024-11-13 18:37:14,565 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:14,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:14,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {}

2024-11-13 18:37:14,589 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:14,590 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:14,591 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {}

2024-11-13 18:37:14,613 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:14,614 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:14,615 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {}

2024-11-13 18:37:14,636 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:14,637 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:14,638 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {}

2024-11-13 18:37:14,659 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:14,660 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:14,660 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {}

2024-11-13 18:37:14,683 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:14,684 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:14,685 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {}

2024-11-13 18:37:14,706 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:14,707 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:14,728 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:14,729 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:14,750 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:14,752 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,752 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.71s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,799 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,800 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.76s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,823 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,824 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.78s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,848 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,849 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.81s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,871 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,872 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.83s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,894 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,895 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.85s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,917 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,918 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.88s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,942 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:14,943 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.9s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:14,965 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:15,030 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:15,030 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:15,031 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:15,074 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:15,117 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:15,118 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:15,118 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.19s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:15,203 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:15,204 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.18s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:15,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:15,268 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.17s ago] {'typtype_1': 'e'}

2024-11-13 18:37:15,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:15,312 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:15,313 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:15,315 - - - 127.0.0.1 - GET http://localhost.localdomain/
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/

2024-11-13 18:37:15,316 - - - 127.0.0.1 - GET http://localhost.localdomain/
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/

2024-11-13 18:37:15,344 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:15,345 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_reply

2024-11-13 18:37:15,346 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.34s ago] {}

2024-11-13 18:37:15,389 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM forum_post

2024-11-13 18:37:15,390 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.34s ago] {}

2024-11-13 18:37:15,412 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM comment

2024-11-13 18:37:15,413 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.34s ago] {}

2024-11-13 18:37:15,435 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM group_membership

2024-11-13 18:37:15,435 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.34s ago] {}

2024-11-13 18:37:15,457 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream

2024-11-13 18:37:15,458 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.33s ago] {}

2024-11-13 18:37:15,480 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM dream_group

2024-11-13 18:37:15,481 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.33s ago] {}

2024-11-13 18:37:15,503 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user_activity

2024-11-13 18:37:15,504 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.33s ago] {}

2024-11-13 18:37:15,526 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DELETE FROM user

2024-11-13 18:37:15,527 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 31.33s ago] {}

2024-11-13 18:37:15,550 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error cleaning up table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DELETE FROM user
                    ^

[SQL: DELETE FROM user]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:15,551 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:15,572 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:37:15,575 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:37:15,596 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:15,597 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_reply CASCADE

2024-11-13 18:37:15,598 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.3s ago] {}

2024-11-13 18:37:15,640 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_reply

2024-11-13 18:37:15,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS forum_post CASCADE

2024-11-13 18:37:15,642 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {}

2024-11-13 18:37:15,664 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: forum_post

2024-11-13 18:37:15,665 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS comment CASCADE

2024-11-13 18:37:15,665 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {}

2024-11-13 18:37:15,691 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: comment

2024-11-13 18:37:15,692 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS group_membership CASCADE

2024-11-13 18:37:15,692 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {}

2024-11-13 18:37:15,714 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: group_membership

2024-11-13 18:37:15,715 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream CASCADE

2024-11-13 18:37:15,715 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {}

2024-11-13 18:37:15,738 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream

2024-11-13 18:37:15,739 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS dream_group CASCADE

2024-11-13 18:37:15,739 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {}

2024-11-13 18:37:15,761 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: dream_group

2024-11-13 18:37:15,763 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user_activity CASCADE

2024-11-13 18:37:15,763 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {}

2024-11-13 18:37:15,785 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropped table: user_activity

2024-11-13 18:37:15,786 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: DROP TABLE IF EXISTS user CASCADE

2024-11-13 18:37:15,787 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {}

2024-11-13 18:37:15,808 - - - None - GET http://localhost.localdomain/
Level: WARNING
Module: conftest
Message: Error dropping table user: (psycopg2.errors.SyntaxError) syntax error at or near "user"
LINE 1: DROP TABLE IF EXISTS user CASCADE
                             ^

[SQL: DROP TABLE IF EXISTS user CASCADE]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-13 18:37:15,809 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:15,831 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All tables dropped successfully

2024-11-13 18:37:15,832 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:37:15,853 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:15,854 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:15,855 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.81s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:15,898 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:15,899 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.86s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:15,926 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:15,927 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.89s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:15,949 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:15,950 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.91s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:15,972 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:15,973 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.93s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:15,995 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:15,996 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.95s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:16,018 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:16,019 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.98s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:16,041 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:16,042 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 34s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:16,064 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:37:16,128 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:16,129 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:37:16,129 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:37:16,172 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:16,216 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:16,216 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-13 18:37:16,217 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.28s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-13 18:37:16,303 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:16,304 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.28s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-13 18:37:16,367 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-13 18:37:16,368 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.27s ago] {'typtype_1': 'e'}

2024-11-13 18:37:16,390 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:37:16,412 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-13 18:37:16,413 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:37:16,437 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:37:16,438 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:37:16,438 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.24s ago] {'username_1': 'testuser', 'param_1': 1}

2024-11-13 18:37:16,483 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:16,483 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.24s ago] {'param_1': 37}

2024-11-13 18:37:16,507 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:16,508 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.23s ago] {'param_1': 37}

2024-11-13 18:37:16,531 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE %(param_1)s = forum_post.user_id

2024-11-13 18:37:16,532 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.23s ago] {'param_1': 37}

2024-11-13 18:37:16,556 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.user_id

2024-11-13 18:37:16,557 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.23s ago] {'param_1': 37}

2024-11-13 18:37:16,581 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT user_activity.id AS user_activity_id, user_activity.user_id AS user_activity_user_id, user_activity.activity_type AS user_activity_activity_type, user_activity.description AS user_activity_description, user_activity.target_type AS user_activity_target_type, user_activity.target_id AS user_activity_target_id, user_activity.created_at AS user_activity_created_at, user_activity.ip_address AS user_activity_ip_address, user_activity.user_agent AS user_activity_user_agent 
FROM user_activity 
WHERE %(param_1)s = user_activity.user_id

2024-11-13 18:37:16,582 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.23s ago] {'param_1': 37}

2024-11-13 18:37:16,606 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:37:16,607 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.36s ago] {'param_1': 37}

2024-11-13 18:37:16,632 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.user_id

2024-11-13 18:37:16,633 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.36s ago] {'param_1': 37}

