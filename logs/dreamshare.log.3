2024-11-14 01:23:14,030 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,032 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.26s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,062 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,063 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.29s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,083 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,084 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.31s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,104 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,127 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.35s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,148 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.51s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,312 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,313 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.54s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,332 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,333 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.56s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,354 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:14,355 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00107s] {}

2024-11-14 01:23:14,375 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:14,376 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00102s] {}

2024-11-14 01:23:14,397 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:14,397 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00085s] {}

2024-11-14 01:23:14,418 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:14,419 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00082s] {}

2024-11-14 01:23:14,439 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:14,440 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00098s] {}

2024-11-14 01:23:14,460 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:14,461 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00073s] {}

2024-11-14 01:23:14,482 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:14,483 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00104s] {}

2024-11-14 01:23:14,503 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:14,504 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00122s] {}

2024-11-14 01:23:14,525 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:14,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:14,568 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,568 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.79s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,610 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,611 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.83s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,632 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,633 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.86s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,655 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.88s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.9s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.92s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,721 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.95s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,743 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:14,744 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.97s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:14,765 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:14,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00069s] {}

2024-11-14 01:23:14,790 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:14,791 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:14,816 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:14,817 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00102s] {}

2024-11-14 01:23:14,842 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:14,843 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00095s] {}

2024-11-14 01:23:14,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:14,869 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00099s] {}

2024-11-14 01:23:14,894 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:14,895 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00069s] {}

2024-11-14 01:23:14,917 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:14,918 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00075s] {}

2024-11-14 01:23:14,944 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:14,945 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00102s] {}

2024-11-14 01:23:14,971 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:15,034 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:15,035 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:15,036 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.04s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:15,078 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:15,118 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:15,118 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:15,119 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 33.01s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:15,203 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:15,204 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.97s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:15,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:15,268 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.96s ago] {'typtype_1': 'e'}

2024-11-14 01:23:15,288 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:15,307 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:15,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:15,410 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:15,411 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:15,412 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.83s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$bULemrotATuOjmq8$4ed15a2a23ab78d01d762f61c8d1e38bb5e1f146d0a3884ea3803bdae6410f244c08b8c7b83948a2d259037e2ad0d31b83f7ec6e80ed77ef178777dc1e1f1373', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 15, 309651)}

2024-11-14 01:23:15,455 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:15,496 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:15,497 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:15,497 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.82s ago] {'pk_1': 1}

2024-11-14 01:23:15,537 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream (user_id, title, content, date, mood, sentiment_score, sentiment_magnitude, dominant_emotions, lucidity_level, tags, is_public, is_anonymous, ai_analysis, sleep_duration, sleep_quality, bed_time, wake_time, sleep_interruptions, sleep_position) VALUES (%(user_id)s, %(title)s, %(content)s, %(date)s, %(mood)s, %(sentiment_score)s, %(sentiment_magnitude)s, %(dominant_emotions)s, %(lucidity_level)s, %(tags)s, %(is_public)s, %(is_anonymous)s, %(ai_analysis)s, %(sleep_duration)s, %(sleep_quality)s, %(bed_time)s, %(wake_time)s, %(sleep_interruptions)s, %(sleep_position)s) RETURNING dream.id

2024-11-14 01:23:15,538 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00105s] {'user_id': 1, 'title': 'Test Dream', 'content': 'Test dream content', 'date': datetime.datetime(2024, 11, 14, 1, 23, 15, 535908), 'mood': 'happy', 'sentiment_score': None, 'sentiment_magnitude': None, 'dominant_emotions': None, 'lucidity_level': 3, 'tags': 'test,dream', 'is_public': True, 'is_anonymous': False, 'ai_analysis': None, 'sleep_duration': None, 'sleep_quality': 4, 'bed_time': None, 'wake_time': None, 'sleep_interruptions': 0, 'sleep_position': 'back'}

2024-11-14 01:23:15,560 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:15,602 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:15,605 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:15,606 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 32.93s ago] {'pk_1': 1}

2024-11-14 01:23:15,651 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE dream.id = %(pk_1)s

2024-11-14 01:23:15,652 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00096s] {'pk_1': 1}

2024-11-14 01:23:15,693 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:15,695 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO comment (content, user_id, dream_id, created_at) VALUES (%(content)s, %(user_id)s, %(dream_id)s, %(created_at)s) RETURNING comment.id

2024-11-14 01:23:15,696 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00089s] {'content': 'Test comment', 'user_id': 1, 'dream_id': 1, 'created_at': datetime.datetime(2024, 11, 14, 1, 23, 15, 674333)}

2024-11-14 01:23:15,737 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:15,778 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:15,781 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE comment.content = %(content_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:15,782 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00094s] {'content_1': 'Test comment', 'param_1': 1}

2024-11-14 01:23:15,823 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT comment.id AS comment_id, comment.content AS comment_content, comment.user_id AS comment_user_id, comment.dream_id AS comment_dream_id, comment.created_at AS comment_created_at 
FROM comment 
WHERE %(param_1)s = comment.dream_id

2024-11-14 01:23:15,824 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00129s] {'param_1': 1}

2024-11-14 01:23:15,847 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:15,878 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:15,881 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:15,904 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:15,995 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:16,015 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:16,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.24s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,056 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,057 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.28s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,076 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,077 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.3s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,097 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,098 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.32s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,119 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,120 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.34s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,140 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,141 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.36s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,161 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.38s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,181 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,182 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.41s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,202 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:16,203 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00087s] {}

2024-11-14 01:23:16,223 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:16,224 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00099s] {}

2024-11-14 01:23:16,244 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:16,245 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00102s] {}

2024-11-14 01:23:16,265 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:16,266 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00084s] {}

2024-11-14 01:23:16,287 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:16,287 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00088s] {}

2024-11-14 01:23:16,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:16,309 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00106s] {}

2024-11-14 01:23:16,329 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:16,329 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00078s] {}

2024-11-14 01:23:16,350 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:16,351 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00100s] {}

2024-11-14 01:23:16,371 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:16,413 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:16,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.64s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,456 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,456 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.68s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,478 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,479 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.7s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,500 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,501 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.72s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,524 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,525 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.75s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,547 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.77s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,569 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,569 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.79s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,591 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,592 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 35.82s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,614 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:16,615 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00091s] {}

2024-11-14 01:23:16,639 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:16,640 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00090s] {}

2024-11-14 01:23:16,665 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:16,666 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00086s] {}

2024-11-14 01:23:16,691 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:16,691 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00083s] {}

2024-11-14 01:23:16,716 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:16,717 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00075s] {}

2024-11-14 01:23:16,742 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:16,742 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00077s] {}

2024-11-14 01:23:16,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:16,767 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:16,791 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:16,792 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00091s] {}

2024-11-14 01:23:16,816 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:16,879 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:16,880 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:16,881 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 34.88s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:16,923 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:16,962 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:16,963 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:16,964 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 34.85s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:17,047 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:17,048 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 34.82s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:17,111 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:17,111 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 34.8s ago] {'typtype_1': 'e'}

2024-11-14 01:23:17,131 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:17,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:17,151 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:17,251 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:17,252 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:17,253 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 34.67s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$lsBIFX80VllVmUXH$b5e5de7f94a8d6c0eb0a7ae9bfd39c5e0e07aaa644206e382b0710983fb059ed37170977159ac5c7c8b6b3aab84981130123776fe5e52cae9ddac2f586a5e697', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 17, 152601)}

2024-11-14 01:23:17,296 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:17,338 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:17,339 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:17,340 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 34.66s ago] {'pk_1': 1}

2024-11-14 01:23:17,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:17,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream_group (name, description, created_by, created_at) VALUES (%(name)s, %(description)s, %(created_by)s, %(created_at)s) RETURNING dream_group.id

2024-11-14 01:23:17,401 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 3.84s ago] {'name': 'Test Group', 'description': 'Test description', 'created_by': 1, 'created_at': datetime.datetime(2024, 11, 14, 1, 23, 17, 378790)}

2024-11-14 01:23:17,445 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:17,487 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:17,488 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE dream_group.id = %(pk_1)s

2024-11-14 01:23:17,488 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 3.795s ago] {'pk_1': 1}

2024-11-14 01:23:17,531 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO group_membership (user_id, group_id, is_admin, joined_at) VALUES (%(user_id)s, %(group_id)s, %(is_admin)s, %(joined_at)s)

2024-11-14 01:23:17,531 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 3.947s ago] {'user_id': 1, 'group_id': 1, 'is_admin': True, 'joined_at': datetime.datetime(2024, 11, 14, 1, 23, 17, 530671)}

2024-11-14 01:23:17,557 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:17,600 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:17,601 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE dream_group.name = %(name_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:17,602 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00077s] {'name_1': 'Test Group', 'param_1': 1}

2024-11-14 01:23:17,645 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user", group_membership 
WHERE %(param_1)s = group_membership.group_id AND "user".id = group_membership.user_id

2024-11-14 01:23:17,646 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00090s] {'param_1': 1}

2024-11-14 01:23:17,669 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT group_membership.user_id AS group_membership_user_id, group_membership.group_id AS group_membership_group_id, group_membership.is_admin AS group_membership_is_admin, group_membership.joined_at AS group_membership_joined_at 
FROM group_membership 
WHERE group_membership.user_id = %(user_id_1)s AND group_membership.group_id = %(group_id_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:17,670 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00073s] {'user_id_1': 1, 'group_id_1': 1, 'param_1': 1}

2024-11-14 01:23:17,692 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:17,713 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:17,714 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:17,733 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:17,902 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:17,923 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:17,924 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:17,925 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.15s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:17,966 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:17,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.19s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:17,988 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:17,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.21s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,011 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,012 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.24s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,034 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,035 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.26s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,057 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,057 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.28s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,080 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,081 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.3s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,103 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,104 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.33s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,125 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:18,126 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:18,148 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:18,149 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-14 01:23:18,171 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:18,172 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00082s] {}

2024-11-14 01:23:18,194 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:18,195 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00068s] {}

2024-11-14 01:23:18,217 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:18,217 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00075s] {}

2024-11-14 01:23:18,239 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:18,240 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00078s] {}

2024-11-14 01:23:18,262 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:18,263 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00074s] {}

2024-11-14 01:23:18,284 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:18,285 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00082s] {}

2024-11-14 01:23:18,307 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:18,349 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:18,350 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,350 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.57s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,388 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,390 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.61s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,409 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,410 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.63s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,430 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,431 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.65s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,451 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,452 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.68s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,471 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,472 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.7s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,492 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,493 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.72s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,513 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,514 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 37.74s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,534 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:18,535 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00090s] {}

2024-11-14 01:23:18,557 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:18,558 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00085s] {}

2024-11-14 01:23:18,581 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:18,582 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00082s] {}

2024-11-14 01:23:18,604 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:18,605 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00088s] {}

2024-11-14 01:23:18,628 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:18,629 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00122s] {}

2024-11-14 01:23:18,652 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:18,653 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00095s] {}

2024-11-14 01:23:18,675 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:18,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00074s] {}

2024-11-14 01:23:18,698 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:18,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00084s] {}

2024-11-14 01:23:18,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:18,782 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:18,783 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:18,784 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.78s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:18,822 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:18,862 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:18,863 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:18,864 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.75s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:18,948 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:18,949 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.72s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:19,012 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:19,013 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.71s ago] {'typtype_1': 'e'}

2024-11-14 01:23:19,035 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:19,056 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:19,057 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:19,158 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:19,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:19,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.58s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$t9OIFFxZpCfe6u2a$17cb3650582b9dbd0a90cbfbaa862b1f787f2bfd609e4062ceb8bdd68afd2cbb09df801852fcb5c8bac8aecdc15a9ad11c82f5e9f2827d496670fd08b6702946', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 19, 58722)}

2024-11-14 01:23:19,201 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:19,241 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:19,242 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:19,243 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.56s ago] {'pk_1': 1}

2024-11-14 01:23:19,286 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream_group (name, description, created_by, created_at) VALUES (%(name)s, %(description)s, %(created_by)s, %(created_at)s) RETURNING dream_group.id

2024-11-14 01:23:19,287 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 5.725s ago] {'name': 'Test Group', 'description': 'Test group description', 'created_by': 1, 'created_at': datetime.datetime(2024, 11, 14, 1, 23, 19, 285514)}

2024-11-14 01:23:19,309 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO group_membership (user_id, group_id, is_admin, joined_at) VALUES (%(user_id)s, %(group_id)s, %(is_admin)s, %(joined_at)s)

2024-11-14 01:23:19,310 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 5.726s ago] {'user_id': 1, 'group_id': 1, 'is_admin': True, 'joined_at': datetime.datetime(2024, 11, 14, 1, 23, 19, 309660)}

2024-11-14 01:23:19,333 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:19,374 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:19,375 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:19,376 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.7s ago] {'pk_1': 1}

2024-11-14 01:23:19,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream_group.id AS dream_group_id, dream_group.name AS dream_group_name, dream_group.description AS dream_group_description, dream_group.created_by AS dream_group_created_by, dream_group.created_at AS dream_group_created_at 
FROM dream_group 
WHERE dream_group.id = %(pk_1)s

2024-11-14 01:23:19,415 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 5.723s ago] {'pk_1': 1}

2024-11-14 01:23:19,436 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO forum_post (title, content, user_id, group_id, created_at) VALUES (%(title)s, %(content)s, %(user_id)s, %(group_id)s, %(created_at)s) RETURNING forum_post.id

2024-11-14 01:23:19,437 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 5.7s ago] {'title': 'Test Forum Post', 'content': 'Test forum content', 'user_id': 1, 'group_id': 1, 'created_at': datetime.datetime(2024, 11, 14, 1, 23, 19, 435645)}

2024-11-14 01:23:19,458 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:19,501 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:19,502 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:19,503 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.82s ago] {'pk_1': 1}

2024-11-14 01:23:19,545 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_post.id AS forum_post_id, forum_post.title AS forum_post_title, forum_post.content AS forum_post_content, forum_post.user_id AS forum_post_user_id, forum_post.group_id AS forum_post_group_id, forum_post.created_at AS forum_post_created_at 
FROM forum_post 
WHERE forum_post.id = %(pk_1)s

2024-11-14 01:23:19,549 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00404s] {'pk_1': 1}

2024-11-14 01:23:19,597 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:19,598 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO forum_reply (content, user_id, post_id, created_at) VALUES (%(content)s, %(user_id)s, %(post_id)s, %(created_at)s) RETURNING forum_reply.id

2024-11-14 01:23:19,599 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00076s] {'content': 'Test reply', 'user_id': 1, 'post_id': 1, 'created_at': datetime.datetime(2024, 11, 14, 1, 23, 19, 578223)}

2024-11-14 01:23:19,639 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:19,677 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:19,679 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE forum_reply.content = %(content_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:19,680 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00078s] {'content_1': 'Test reply', 'param_1': 1}

2024-11-14 01:23:19,719 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT forum_reply.id AS forum_reply_id, forum_reply.content AS forum_reply_content, forum_reply.user_id AS forum_reply_user_id, forum_reply.post_id AS forum_reply_post_id, forum_reply.created_at AS forum_reply_created_at 
FROM forum_reply 
WHERE %(param_1)s = forum_reply.post_id

2024-11-14 01:23:19,720 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00087s] {'param_1': 1}

2024-11-14 01:23:19,741 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:19,767 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:19,769 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:19,790 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:19,855 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:19,874 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:19,875 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:19,876 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.1s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:19,913 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:19,914 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.14s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:19,934 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:19,934 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.16s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:19,954 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:19,955 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.18s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:19,974 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:19,975 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.2s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:19,994 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:19,995 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.22s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,014 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,015 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.24s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,035 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,036 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.26s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,056 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:20,057 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00086s] {}

2024-11-14 01:23:20,077 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:20,078 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00072s] {}

2024-11-14 01:23:20,098 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:20,098 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00071s] {}

2024-11-14 01:23:20,118 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:20,119 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00078s] {}

2024-11-14 01:23:20,139 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:20,139 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00067s] {}

2024-11-14 01:23:20,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:20,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00074s] {}

2024-11-14 01:23:20,180 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:20,181 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00098s] {}

2024-11-14 01:23:20,201 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:20,202 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00072s] {}

2024-11-14 01:23:20,222 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:20,265 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:20,266 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,267 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.49s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,309 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,310 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.53s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,331 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,332 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.56s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,354 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,355 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.58s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,376 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,377 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.6s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.62s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,421 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,422 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.65s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,443 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,444 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 39.67s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,466 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:20,467 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00068s] {}

2024-11-14 01:23:20,491 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:20,492 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00065s] {}

2024-11-14 01:23:20,517 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:20,518 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00067s] {}

2024-11-14 01:23:20,542 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:20,543 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00067s] {}

2024-11-14 01:23:20,567 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:20,567 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00070s] {}

2024-11-14 01:23:20,592 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:20,592 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00058s] {}

2024-11-14 01:23:20,615 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:20,616 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00073s] {}

2024-11-14 01:23:20,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:20,642 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00067s] {}

2024-11-14 01:23:20,667 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:20,730 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:20,731 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:20,731 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 38.73s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:20,773 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:20,813 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:20,814 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:20,815 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 38.7s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:20,895 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:20,896 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 38.67s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:20,959 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:20,960 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 38.65s ago] {'typtype_1': 'e'}

2024-11-14 01:23:20,980 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:21,000 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:21,001 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:21,104 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:21,105 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:21,106 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 38.52s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$kd78RClWickepm5L$47c384c64a6f1678a82babeba5784d49fcedfb2d9cda17308f318b9b92b5805b32b12f56d1f00d17ac89d2ed3ff8198114f612404339cd55963159626a10fb19', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 21, 2832)}

2024-11-14 01:23:21,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:21,191 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:21,192 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:21,193 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 38.51s ago] {'pk_1': 1}

2024-11-14 01:23:21,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:21,440 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:21,441 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SET session_replication_role = replica

2024-11-14 01:23:21,442 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 36.77s ago] {}

2024-11-14 01:23:21,483 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:21,504 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: (psycopg2.errors.InsufficientPrivilege) permission denied to set parameter "session_replication_role"

[SQL: SET session_replication_role = replica]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-14 01:23:21,505 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:22,086 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:22,106 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:22,108 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,109 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.33s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,149 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.37s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,170 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,171 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.39s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,192 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,193 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.42s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,213 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,214 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.44s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,234 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,236 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.46s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,256 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,258 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.48s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,278 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,279 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.5s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,299 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:22,300 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00085s] {}

2024-11-14 01:23:22,321 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:22,322 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-14 01:23:22,342 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:22,343 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00111s] {}

2024-11-14 01:23:22,364 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:22,365 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-14 01:23:22,385 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:22,387 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00107s] {}

2024-11-14 01:23:22,407 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:22,408 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00090s] {}

2024-11-14 01:23:22,429 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:22,430 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00095s] {}

2024-11-14 01:23:22,450 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:22,451 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:22,471 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:22,512 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:22,514 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,515 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.74s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,557 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,558 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.78s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,580 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,581 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.8s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,602 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,603 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.83s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,624 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,625 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.85s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,647 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,647 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.87s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,669 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,670 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.89s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,691 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,692 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 41.92s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:22,714 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:22,715 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00089s] {}

2024-11-14 01:23:22,740 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:22,741 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00064s] {}

2024-11-14 01:23:22,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:22,767 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00093s] {}

2024-11-14 01:23:22,792 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:22,793 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00089s] {}

2024-11-14 01:23:22,818 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:22,819 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00081s] {}

2024-11-14 01:23:22,843 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:22,844 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00083s] {}

2024-11-14 01:23:22,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:22,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00075s] {}

2024-11-14 01:23:22,893 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:22,894 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00094s] {}

2024-11-14 01:23:22,918 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:22,981 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:22,982 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:22,983 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 40.98s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:23,026 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:23,066 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:23,067 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:23,068 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 40.95s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:23,151 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:23,152 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 40.92s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:23,215 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:23,216 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 40.91s ago] {'typtype_1': 'e'}

2024-11-14 01:23:23,236 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:23,256 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:23,257 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:23,359 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:23,361 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:23,362 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 40.78s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$H2lSajAFBASRHoGa$560f8fd7bf00f5a983edbe69212bf0e20f7401829f6ad94d8699468240613a1d49c3eb55c6a176b41cba4feb964680f250e6adff2e9bed1d0a4d264c94e1b465', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 23, 258799)}

2024-11-14 01:23:23,406 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:23,447 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:23,449 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:23,450 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 40.77s ago] {'pk_1': 1}

2024-11-14 01:23:23,510 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:23,512 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream (user_id, title, content, date, mood, sentiment_score, sentiment_magnitude, dominant_emotions, lucidity_level, tags, is_public, is_anonymous, ai_analysis, sleep_duration, sleep_quality, bed_time, wake_time, sleep_interruptions, sleep_position) VALUES (%(user_id)s, %(title)s, %(content)s, %(date)s, %(mood)s, %(sentiment_score)s, %(sentiment_magnitude)s, %(dominant_emotions)s, %(lucidity_level)s, %(tags)s, %(is_public)s, %(is_anonymous)s, %(ai_analysis)s, %(sleep_duration)s, %(sleep_quality)s, %(bed_time)s, %(wake_time)s, %(sleep_interruptions)s, %(sleep_position)s) RETURNING dream.id

2024-11-14 01:23:23,512 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 7.975s ago] {'user_id': 1, 'title': 'Test Dream', 'content': 'Test content', 'date': datetime.datetime(2024, 11, 14, 1, 23, 23, 489974), 'mood': 'happy', 'sentiment_score': None, 'sentiment_magnitude': None, 'dominant_emotions': None, 'lucidity_level': 3, 'tags': 'test,dream', 'is_public': True, 'is_anonymous': False, 'ai_analysis': None, 'sleep_duration': None, 'sleep_quality': 4, 'bed_time': None, 'wake_time': None, 'sleep_interruptions': 0, 'sleep_position': 'back'}

2024-11-14 01:23:23,557 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:23,600 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:23,602 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE dream.title = %(title_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:23,603 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00095s] {'title_1': 'Test Dream', 'param_1': 1}

2024-11-14 01:23:23,648 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-14 01:23:23,649 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00112s] {'param_1': 1}

2024-11-14 01:23:23,670 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:23,698 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:23,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:23,719 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:23,810 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:23,831 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:23,833 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:23,834 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.06s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:23,876 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:23,877 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.1s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:23,899 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:23,900 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.12s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:23,922 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:23,923 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.15s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:23,945 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:23,946 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.17s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:23,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:23,968 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.19s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:23,991 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:23,992 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.22s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,014 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.24s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,038 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:24,041 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00349s] {}

2024-11-14 01:23:24,064 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:24,065 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00132s] {}

2024-11-14 01:23:24,088 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:24,090 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00201s] {}

2024-11-14 01:23:24,112 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:24,113 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:24,135 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:24,136 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00124s] {}

2024-11-14 01:23:24,158 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:24,159 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00104s] {}

2024-11-14 01:23:24,181 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:24,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00164s] {}

2024-11-14 01:23:24,205 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:24,206 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00107s] {}

2024-11-14 01:23:24,228 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:24,270 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:24,271 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,272 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.5s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,310 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,311 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.53s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,333 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,334 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.56s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,354 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,355 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.58s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,375 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,375 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.6s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.62s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,420 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,421 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.64s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,441 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,442 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 43.67s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:24,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00084s] {}

2024-11-14 01:23:24,486 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:24,487 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:24,511 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:24,512 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00123s] {}

2024-11-14 01:23:24,535 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:24,536 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00082s] {}

2024-11-14 01:23:24,559 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:24,560 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00115s] {}

2024-11-14 01:23:24,584 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:24,585 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00102s] {}

2024-11-14 01:23:24,606 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:24,607 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:24,630 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:24,631 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00073s] {}

2024-11-14 01:23:24,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:24,715 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:24,716 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:24,716 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 42.72s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:24,755 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:24,796 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:24,797 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:24,799 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 42.68s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:24,884 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:24,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 42.65s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:24,948 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:24,949 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 42.64s ago] {'typtype_1': 'e'}

2024-11-14 01:23:24,971 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:24,992 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:24,992 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:25,041 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:25,042 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SET session_replication_role = replica

2024-11-14 01:23:25,043 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 40.37s ago] {}

2024-11-14 01:23:25,081 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:25,101 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: (psycopg2.errors.InsufficientPrivilege) permission denied to set parameter "session_replication_role"

[SQL: SET session_replication_role = replica]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-14 01:23:25,103 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:25,682 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:25,703 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:25,704 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,705 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.93s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,747 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,748 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.97s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,770 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,771 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.99s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,793 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,794 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.02s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,816 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,817 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.04s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,840 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,840 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.06s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,862 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,863 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.09s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:25,885 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.11s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:25,907 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:25,908 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:25,930 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:25,931 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00107s] {}

2024-11-14 01:23:25,953 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:25,954 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00093s] {}

2024-11-14 01:23:25,976 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:25,977 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00094s] {}

2024-11-14 01:23:25,999 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:26,000 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00111s] {}

2024-11-14 01:23:26,022 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:26,023 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-14 01:23:26,045 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:26,046 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00093s] {}

2024-11-14 01:23:26,068 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:26,069 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00105s] {}

2024-11-14 01:23:26,091 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:26,133 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:26,135 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,135 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.36s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,173 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,175 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.4s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,195 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,196 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.42s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,216 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,217 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.44s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,238 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,239 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.46s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,259 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,260 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.48s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,281 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,282 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.51s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,302 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,303 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.53s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,323 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:26,324 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00074s] {}

2024-11-14 01:23:26,348 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:26,348 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00079s] {}

2024-11-14 01:23:26,373 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:26,374 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00077s] {}

2024-11-14 01:23:26,398 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:26,398 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:26,423 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:26,424 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00074s] {}

2024-11-14 01:23:26,447 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:26,448 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00077s] {}

2024-11-14 01:23:26,469 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:26,470 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00071s] {}

2024-11-14 01:23:26,493 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:26,493 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00077s] {}

2024-11-14 01:23:26,517 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:26,577 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:26,578 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:26,579 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.58s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:26,619 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:26,658 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:26,660 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:26,660 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.55s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:26,744 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:26,745 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.51s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:26,809 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:26,810 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.5s ago] {'typtype_1': 'e'}

2024-11-14 01:23:26,832 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:26,853 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:26,854 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:26,966 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:26,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:26,968 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.39s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$BlQoshZsPU5l5Tqr$f1f335ebc23e2e810c7dfb926725a3ccdf8456a162b50ccbc7c82de6cdc5d30ba521c75bc22b67113159fd0b75b6964a00b3486818593dbd644602d68adbef0f', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 26, 856114)}

2024-11-14 01:23:27,009 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:27,051 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:27,052 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:27,053 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 44.37s ago] {'pk_1': 1}

2024-11-14 01:23:27,097 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/99999
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/dream/99999

2024-11-14 01:23:27,098 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/99999
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/dream/99999

2024-11-14 01:23:27,100 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: test_error_handling
Message: Error in test_invalid_dream_access: assert 302 == 404
 +  where 302 = <WrapperTestResponse streamed [302 FOUND]>.status_code

2024-11-14 01:23:27,109 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:27,110 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:27,132 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:27,197 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:27,216 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:27,217 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,218 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.44s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,256 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,257 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.48s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,276 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,277 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.5s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,297 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,298 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.52s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,317 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,318 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.54s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,338 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,339 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.56s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,359 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,360 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.58s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,380 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,380 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.6s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:27,401 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00068s] {}

2024-11-14 01:23:27,435 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:27,436 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00082s] {}

2024-11-14 01:23:27,456 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:27,457 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00072s] {}

2024-11-14 01:23:27,477 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:27,477 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00073s] {}

2024-11-14 01:23:27,498 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:27,499 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00097s] {}

2024-11-14 01:23:27,519 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:27,520 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00066s] {}

2024-11-14 01:23:27,539 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:27,540 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00072s] {}

2024-11-14 01:23:27,560 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:27,561 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00095s] {}

2024-11-14 01:23:27,581 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:27,623 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:27,624 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,625 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.85s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,666 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,668 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.89s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,691 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,692 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.92s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,713 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,713 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.94s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,735 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,736 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.96s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,757 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,757 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.98s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,779 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,779 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,802 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:27,802 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.03s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:27,824 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:27,825 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00082s] {}

2024-11-14 01:23:27,850 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:27,851 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00075s] {}

2024-11-14 01:23:27,875 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:27,876 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00077s] {}

2024-11-14 01:23:27,901 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:27,901 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00068s] {}

2024-11-14 01:23:27,926 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:27,927 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00074s] {}

2024-11-14 01:23:27,952 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:27,953 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:27,976 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:27,977 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00077s] {}

2024-11-14 01:23:28,001 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:28,002 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00086s] {}

2024-11-14 01:23:28,026 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:28,089 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:28,089 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,090 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.09s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,132 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:28,172 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:28,173 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:28,173 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.06s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:28,255 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:28,256 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.03s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:28,319 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:28,320 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.01s ago] {'typtype_1': 'e'}

2024-11-14 01:23:28,340 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:28,359 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:28,359 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:28,461 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:28,462 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:28,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.88s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$tWwWmE36QVrZGHcq$a9b67684ce749cc1c137df0adb586da0851cc138974cfe334aefad1605c5f52140aeacf46538a47c84f7b83fe8bd2d0c9105e41fe5c654f8a3878cc0dc332f9e', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 28, 361319)}

2024-11-14 01:23:28,506 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:28,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:28,547 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:28,548 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 45.87s ago] {'pk_1': 1}

2024-11-14 01:23:28,588 - - - 127.0.0.1 - POST http://localhost.localdomain/api/dreams
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/api/dreams

2024-11-14 01:23:28,589 - - - 127.0.0.1 - POST http://localhost.localdomain/api/dreams
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/api/dreams

2024-11-14 01:23:28,590 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: test_error_handling
Message: Error in test_invalid_json_handling: assert 404 == 400
 +  where 404 = <WrapperTestResponse streamed [404 NOT FOUND]>.status_code

2024-11-14 01:23:28,598 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:28,599 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:28,618 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:28,690 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:28,712 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:28,713 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,714 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.94s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,755 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,756 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.98s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,778 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,779 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,802 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,804 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.03s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,827 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,829 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.05s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,854 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,857 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.08s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,879 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,880 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.1s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,902 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:28,903 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.13s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:28,925 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:28,926 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00104s] {}

2024-11-14 01:23:28,948 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:28,949 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00086s] {}

2024-11-14 01:23:28,971 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:28,972 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:28,994 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:28,995 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00073s] {}

2024-11-14 01:23:29,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:29,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00076s] {}

2024-11-14 01:23:29,039 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:29,040 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:29,062 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:29,063 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00084s] {}

2024-11-14 01:23:29,084 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:29,085 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:29,107 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:29,149 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:29,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,151 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.37s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,190 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,191 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.41s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,211 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,212 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.44s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,232 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,233 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.46s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,253 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,254 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.48s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,274 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,275 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.5s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,295 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,296 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.52s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,316 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,317 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 48.54s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,337 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:29,338 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00089s] {}

2024-11-14 01:23:29,361 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:29,362 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00097s] {}

2024-11-14 01:23:29,385 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:29,386 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00103s] {}

2024-11-14 01:23:29,409 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:29,411 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00129s] {}

2024-11-14 01:23:29,434 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:29,435 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00109s] {}

2024-11-14 01:23:29,458 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:29,459 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00093s] {}

2024-11-14 01:23:29,484 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:29,485 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00135s] {}

2024-11-14 01:23:29,509 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:29,510 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00130s] {}

2024-11-14 01:23:29,533 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:29,595 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:29,596 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:29,596 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.6s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:29,635 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:29,674 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:29,675 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:29,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.56s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:29,760 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:29,761 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.53s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:29,824 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:29,825 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.52s ago] {'typtype_1': 'e'}

2024-11-14 01:23:29,847 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:29,868 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:29,869 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:29,970 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:29,971 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:29,971 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.39s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$lfqXboSnfdvA2bkw$94db9bedb413a0650231a1bcee39b92fc851d02a5b041562bed92c734eb35e6e1a37f980fbdd1f131ba731ad6feb5588026862a1c905db8fdc6fefd4a13ed4e1', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 29, 871654)}

2024-11-14 01:23:30,012 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:30,053 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:30,055 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:30,056 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 47.38s ago] {'pk_1': 1}

2024-11-14 01:23:30,100 - - - 127.0.0.1 - GET http://localhost.localdomain/group/99999
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/group/99999

2024-11-14 01:23:30,103 - - - 127.0.0.1 - GET http://localhost.localdomain/group/99999
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/group/99999

2024-11-14 01:23:30,104 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: test_error_handling
Message: Error in test_invalid_group_access: assert b'Group not found' in b'<!doctype html>\n<html lang=en>\n<title>404 Not Found</title>\n<h1>Not Found</h1>\n<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>\n'
 +  where b'<!doctype html>\n<html lang=en>\n<title>404 Not Found</title>\n<h1>Not Found</h1>\n<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>\n' = <WrapperTestResponse 207 bytes [404 NOT FOUND]>.data

2024-11-14 01:23:30,114 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:30,115 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:30,136 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:30,340 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:30,359 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:30,360 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,361 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.59s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.62s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,421 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,422 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.65s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,441 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,442 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.67s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,462 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.69s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,483 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,484 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.71s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,504 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,505 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.73s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,525 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,526 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.75s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:30,547 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00079s] {}

2024-11-14 01:23:30,568 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:30,568 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00072s] {}

2024-11-14 01:23:30,589 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:30,590 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00072s] {}

2024-11-14 01:23:30,610 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:30,611 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:30,632 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:30,633 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00087s] {}

2024-11-14 01:23:30,653 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:30,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00070s] {}

2024-11-14 01:23:30,675 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:30,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00072s] {}

2024-11-14 01:23:30,696 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:30,697 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00075s] {}

2024-11-14 01:23:30,717 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:30,760 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:30,761 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,762 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.99s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,803 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,804 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.03s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,826 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,827 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.05s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,848 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,849 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.07s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,871 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,871 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.1s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,893 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,893 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.12s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,915 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,916 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.14s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,937 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:30,938 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.16s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:30,960 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:30,961 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00088s] {}

2024-11-14 01:23:30,987 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:30,988 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00105s] {}

2024-11-14 01:23:31,013 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:31,014 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-14 01:23:31,039 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:31,040 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00100s] {}

2024-11-14 01:23:31,065 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:31,066 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:31,091 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:31,092 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00069s] {}

2024-11-14 01:23:31,115 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:31,115 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00069s] {}

2024-11-14 01:23:31,142 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:31,143 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00106s] {}

2024-11-14 01:23:31,167 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:31,230 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:31,231 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:31,232 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.23s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:31,274 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:31,314 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:31,315 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:31,316 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.2s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:31,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:31,400 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.17s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:31,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:31,464 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 49.16s ago] {'typtype_1': 'e'}

2024-11-14 01:23:31,485 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:31,505 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:31,506 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:31,627 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:31,628 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SET session_replication_role = replica

2024-11-14 01:23:31,629 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 46.96s ago] {}

2024-11-14 01:23:31,670 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:31,691 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: (psycopg2.errors.InsufficientPrivilege) permission denied to set parameter "session_replication_role"

[SQL: SET session_replication_role = replica]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-14 01:23:31,693 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:32,187 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:32,207 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:32,208 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,209 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.43s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,247 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,248 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.47s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,268 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,269 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.49s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,289 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,290 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.51s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,310 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,311 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.53s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,331 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,332 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.56s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,352 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,353 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.58s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,373 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,373 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.6s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,393 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:32,394 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00084s] {}

2024-11-14 01:23:32,415 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:32,416 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00070s] {}

2024-11-14 01:23:32,437 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:32,438 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00076s] {}

2024-11-14 01:23:32,458 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:32,460 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00124s] {}

2024-11-14 01:23:32,481 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:32,481 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00091s] {}

2024-11-14 01:23:32,501 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:32,502 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00098s] {}

2024-11-14 01:23:32,524 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:32,525 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-14 01:23:32,545 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:32,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00109s] {}

2024-11-14 01:23:32,567 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:32,609 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:32,610 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,611 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.83s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,652 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,653 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.88s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,675 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.9s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,699 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,700 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.92s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,723 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.95s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,745 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,746 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.97s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,767 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,768 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.99s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,790 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:32,790 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 52.01s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:32,813 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:32,813 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00090s] {}

2024-11-14 01:23:32,838 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:32,839 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00093s] {}

2024-11-14 01:23:32,864 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:32,865 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00087s] {}

2024-11-14 01:23:32,890 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:32,891 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00076s] {}

2024-11-14 01:23:32,916 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:32,917 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00093s] {}

2024-11-14 01:23:32,942 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:32,943 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00089s] {}

2024-11-14 01:23:32,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:32,968 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:32,992 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:32,994 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00114s] {}

2024-11-14 01:23:33,019 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:33,082 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:33,083 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:33,083 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.08s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:33,125 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:33,166 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:33,167 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:33,168 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.05s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:33,252 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:33,253 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.02s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:33,315 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:33,316 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.01s ago] {'typtype_1': 'e'}

2024-11-14 01:23:33,337 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:33,356 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:33,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:33,482 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:33,483 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:33,484 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.9s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$dwRIMcyXNhpZaKzf$012a3a16605c96b0c8953f6b05f246839ac677103b11bbb93ca8877cd0cd1d8f468512c0d7df82006d7b28c6cab5ea3fb65b473f02dee6a59142eefdec60a830', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 33, 358923)}

2024-11-14 01:23:33,530 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:33,572 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:33,574 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:33,575 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 50.9s ago] {'pk_1': 1}

2024-11-14 01:23:33,615 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Failed to create test user: A transaction is already begun on this Session.

2024-11-14 01:23:33,873 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:33,875 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:33,896 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:33,993 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:34,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:34,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,018 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.24s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,061 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,062 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.29s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,085 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,088 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.31s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,114 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,115 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.34s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,137 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,138 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.36s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,161 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,162 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.39s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,184 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,185 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.41s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,207 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,208 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.43s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,230 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:34,231 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00095s] {}

2024-11-14 01:23:34,255 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:34,256 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00116s] {}

2024-11-14 01:23:34,279 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:34,281 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00132s] {}

2024-11-14 01:23:34,303 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:34,304 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00129s] {}

2024-11-14 01:23:34,327 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:34,328 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00099s] {}

2024-11-14 01:23:34,351 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:34,352 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00114s] {}

2024-11-14 01:23:34,374 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:34,376 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00117s] {}

2024-11-14 01:23:34,398 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:34,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00103s] {}

2024-11-14 01:23:34,422 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:34,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:34,466 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,467 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.69s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,505 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,506 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.73s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,526 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,526 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.75s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,547 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.77s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,567 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.79s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,587 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,588 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.81s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,608 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,609 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.83s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,630 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,631 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 53.85s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,653 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:34,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00189s] {}

2024-11-14 01:23:34,678 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:34,679 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00079s] {}

2024-11-14 01:23:34,706 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:34,707 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00106s] {}

2024-11-14 01:23:34,730 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:34,731 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:34,755 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:34,756 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00121s] {}

2024-11-14 01:23:34,779 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:34,780 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-14 01:23:34,802 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:34,803 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00086s] {}

2024-11-14 01:23:34,826 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:34,827 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00098s] {}

2024-11-14 01:23:34,850 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:34,912 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:34,913 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:34,914 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 52.91s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:34,952 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:34,993 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:34,994 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:34,995 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 52.88s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:35,080 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:35,081 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 52.85s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:35,149 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:35,150 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 52.84s ago] {'typtype_1': 'e'}

2024-11-14 01:23:35,172 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,193 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:35,194 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:35,197 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-14 01:23:35,217 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:35,219 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:35,220 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 45.32s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-14 01:23:35,262 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-14 01:23:35,264 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,284 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-14 01:23:35,287 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-14 01:23:35,309 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:35,310 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:35,311 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 45.41s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-14 01:23:35,354 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-14 01:23:35,355 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,378 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-14 01:23:35,379 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-14 01:23:35,400 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:35,401 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:35,402 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 45.5s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-14 01:23:35,440 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-14 01:23:35,442 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,462 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-14 01:23:35,464 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-14 01:23:35,487 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:35,488 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:35,489 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 45.59s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-14 01:23:35,534 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-14 01:23:35,535 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,557 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-14 01:23:35,559 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-14 01:23:35,579 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:35,580 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:35,581 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 45.68s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-14 01:23:35,619 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-14 01:23:35,620 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,640 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-14 01:23:35,642 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-14 01:23:35,664 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:35,666 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-14 01:23:35,667 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 45.77s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-14 01:23:35,709 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-14 01:23:35,710 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,732 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-14 01:23:35,733 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: test_error_handling
Message: Error in test_rate_limiting: assert 200 == 429
 +  where 200 = <WrapperTestResponse streamed [200 OK]>.status_code

2024-11-14 01:23:35,762 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:35,763 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SET session_replication_role = replica

2024-11-14 01:23:35,764 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 51.1s ago] {}

2024-11-14 01:23:35,802 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:35,822 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: (psycopg2.errors.InsufficientPrivilege) permission denied to set parameter "session_replication_role"

[SQL: SET session_replication_role = replica]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-11-14 01:23:35,823 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-14 01:23:36,383 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-14 01:23:36,406 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:36,408 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,410 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.63s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,452 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,453 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.68s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,475 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,476 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.7s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,499 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,501 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.72s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,523 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,524 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.75s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.77s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,569 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,569 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.79s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,591 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,592 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.82s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,614 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-14 01:23:36,615 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00103s] {}

2024-11-14 01:23:36,638 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-14 01:23:36,639 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00089s] {}

2024-11-14 01:23:36,661 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-14 01:23:36,662 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-14 01:23:36,685 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-14 01:23:36,686 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00087s] {}

2024-11-14 01:23:36,708 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-14 01:23:36,709 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00113s] {}

2024-11-14 01:23:36,732 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-14 01:23:36,733 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00118s] {}

2024-11-14 01:23:36,757 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-14 01:23:36,758 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00080s] {}

2024-11-14 01:23:36,781 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-14 01:23:36,781 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00087s] {}

2024-11-14 01:23:36,804 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:36,846 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:36,848 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,848 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.07s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,887 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,888 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.11s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,908 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.13s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,929 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,930 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.15s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,951 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,952 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.18s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,972 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,973 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.2s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:36,994 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:36,995 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.22s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:37,015 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:37,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 56.24s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:37,038 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-14 01:23:37,039 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00129s] {}

2024-11-14 01:23:37,063 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:37,064 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00096s] {}

2024-11-14 01:23:37,088 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-14 01:23:37,089 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00110s] {}

2024-11-14 01:23:37,112 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-14 01:23:37,113 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00106s] {}

2024-11-14 01:23:37,136 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-14 01:23:37,137 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00088s] {}

2024-11-14 01:23:37,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:37,161 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00085s] {}

2024-11-14 01:23:37,182 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-14 01:23:37,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00087s] {}

2024-11-14 01:23:37,206 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-14 01:23:37,207 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00081s] {}

2024-11-14 01:23:37,230 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:37,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:37,292 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-14 01:23:37,293 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.29s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-14 01:23:37,331 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:37,371 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:37,372 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_attribute.attname AS name, pg_catalog.format_type(pg_catalog.pg_attribute.atttypid, pg_catalog.pg_attribute.atttypmod) AS format_type, (SELECT pg_catalog.pg_get_expr(pg_catalog.pg_attrdef.adbin, pg_catalog.pg_attrdef.adrelid) AS pg_get_expr_1 
FROM pg_catalog.pg_attrdef 
WHERE pg_catalog.pg_attrdef.adrelid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attrdef.adnum = pg_catalog.pg_attribute.attnum AND pg_catalog.pg_attribute.atthasdef) AS "default", pg_catalog.pg_attribute.attnotnull AS not_null, pg_catalog.pg_class.relname AS table_name, pg_catalog.pg_description.description AS comment, pg_catalog.pg_attribute.attgenerated AS generated, (SELECT json_build_object(%(json_build_object_2)s, pg_catalog.pg_attribute.attidentity = %(attidentity_1)s, %(json_build_object_3)s, pg_catalog.pg_sequence.seqstart, %(json_build_object_4)s, pg_catalog.pg_sequence.seqincrement, %(json_build_object_5)s, pg_catalog.pg_sequence.seqmin, %(json_build_object_6)s, pg_catalog.pg_sequence.seqmax, %(json_build_object_7)s, pg_catalog.pg_sequence.seqcache, %(json_build_object_8)s, pg_catalog.pg_sequence.seqcycle) AS json_build_object_1 
FROM pg_catalog.pg_sequence 
WHERE pg_catalog.pg_attribute.attidentity != %(attidentity_2)s AND pg_catalog.pg_sequence.seqrelid = CAST(CAST(pg_catalog.pg_get_serial_sequence(CAST(CAST(pg_catalog.pg_attribute.attrelid AS REGCLASS) AS TEXT), pg_catalog.pg_attribute.attname) AS REGCLASS) AS OID)) AS identity_options 
FROM pg_catalog.pg_class LEFT OUTER JOIN pg_catalog.pg_attribute ON pg_catalog.pg_class.oid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_attribute.attnum > %(attnum_1)s AND NOT pg_catalog.pg_attribute.attisdropped LEFT OUTER JOIN pg_catalog.pg_description ON pg_catalog.pg_description.objoid = pg_catalog.pg_attribute.attrelid AND pg_catalog.pg_description.objsubid = pg_catalog.pg_attribute.attnum JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s AND pg_catalog.pg_class.relname IN (%(filter_names_1)s) ORDER BY pg_catalog.pg_class.relname, pg_catalog.pg_attribute.attnum

2024-11-14 01:23:37,373 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.26s ago] {'json_build_object_2': 'always', 'attidentity_1': 'a', 'json_build_object_3': 'start', 'json_build_object_4': 'increment', 'json_build_object_5': 'minvalue', 'json_build_object_6': 'maxvalue', 'json_build_object_7': 'cache', 'json_build_object_8': 'cycle', 'attidentity_2': '', 'attnum_1': 0, 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog', 'filter_names_1': 'user_activity'}

2024-11-14 01:23:37,461 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.format_type(pg_catalog.pg_type.typbasetype, pg_catalog.pg_type.typtypmod) AS attype, NOT pg_catalog.pg_type.typnotnull AS nullable, pg_catalog.pg_type.typdefault AS "default", pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, domain_constraints.condefs, domain_constraints.connames, pg_catalog.pg_collation.collname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN pg_catalog.pg_collation ON pg_catalog.pg_type.typcollation = pg_catalog.pg_collation.oid LEFT OUTER JOIN (SELECT pg_catalog.pg_constraint.contypid AS contypid, array_agg(pg_catalog.pg_get_constraintdef(pg_catalog.pg_constraint.oid, %(pg_get_constraintdef_1)s)) AS condefs, array_agg(CAST(pg_catalog.pg_constraint.conname AS TEXT)) AS connames 
FROM pg_catalog.pg_constraint 
WHERE pg_catalog.pg_constraint.contypid != %(contypid_1)s GROUP BY pg_catalog.pg_constraint.contypid) AS domain_constraints ON pg_catalog.pg_type.oid = domain_constraints.contypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:37,462 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.23s ago] {'pg_get_constraintdef_1': True, 'contypid_1': 0, 'typtype_1': 'd'}

2024-11-14 01:23:37,528 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_type.typname AS name, pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AS visible, pg_catalog.pg_namespace.nspname AS schema, lbl_agg.labels AS labels 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace LEFT OUTER JOIN (SELECT pg_catalog.pg_enum.enumtypid AS enumtypid, array_agg(CAST(pg_catalog.pg_enum.enumlabel AS TEXT) ORDER BY pg_catalog.pg_enum.enumsortorder) AS labels 
FROM pg_catalog.pg_enum GROUP BY pg_catalog.pg_enum.enumtypid) AS lbl_agg ON pg_catalog.pg_type.oid = lbl_agg.enumtypid 
WHERE pg_catalog.pg_type.typtype = %(typtype_1)s ORDER BY pg_catalog.pg_namespace.nspname, pg_catalog.pg_type.typname

2024-11-14 01:23:37,529 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.22s ago] {'typtype_1': 'e'}

2024-11-14 01:23:37,551 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:37,573 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables and columns exist

2024-11-14 01:23:37,574 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-14 01:23:37,679 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:37,681 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-14 01:23:37,682 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.1s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$ozMzCvSeuSWns48U$a8dba402f68c75edd852d3fb033f8d83d9aa9265a2708111ac33d9fafd2ced526f1a2ace5ed1ea8b5f53905dbcbaaed995b59fe24255bd8a128c570fa5819666', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 14, 1, 23, 37, 575610)}

2024-11-14 01:23:37,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-14 01:23:37,765 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-14 01:23:37,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-14 01:23:37,767 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 55.09s ago] {'pk_1': 1}

2024-11-14 01:23:37,812 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/dream/new

2024-11-14 01:23:37,817 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/dream/new

2024-11-14 01:23:37,820 - - - 127.0.0.1 - GET http://localhost.localdomain/login?next=/dream/new
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/login?next=/dream/new

2024-11-14 01:23:37,821 - - - 127.0.0.1 - GET http://localhost.localdomain/login?next=/dream/new
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/login?next=/dream/new

2024-11-14 01:23:37,823 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: test_error_handling
Message: Error in test_form_validation: assert b'This field is required' in b'<!DOCTYPE html>\n<html lang="en" class="bg-dream-gradient min-h-screen">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>DreamLoop - Login</title>\n    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">\n    <link href="https://unpkg.com/@heroicons/24/outline/style.css" rel="stylesheet" type="text/css">\n    <link href="/static/css/output.css" rel="stylesheet">\n    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>\n</head>\n<body class="text-slate-800">\n    <nav class="bg-white/80 backdrop-blur-lg border-b border-slate-200 fixed w-full top-0 z-50">\n        <div class="max-w-7xl mx-auto px-4">\n            <div class="flex items-center justify-between h-14 sm:h-16">\n                <a href="/" class="flex items-center">\n                    <img src="/static/images/dreamlooplogo.svg" alt="DreamLoop Logo" class="h-8 w-auto">\n                </a>\n                <button class="lg:hidden z-50" type="button" onclick="toggleMenu()">\n                    <span class="sr-only">Open menu</span>\n                    <svg class="h-6 w-6 text-slate-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>\n                    </svg>\n                </button>\n                <div id="mobileMenu" class="hidden lg:flex lg:items-center lg:space-x-4">\n                    \n                    <a href="/login" class="text-slate-700 hover:text-slate-900 px-4 py-2 rounded-md transition-colors">\n                        <svg class="h-5 w-5 inline-block align-text-bottom" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>\n                        </svg>\n                        Login\n                    </a>\n                    <a href="/register" class="text-slate-700 hover:text-slate-900 px-4 py-2 rounded-md transition-colors">\n                        <svg class="h-5 w-5 inline-block align-text-bottom" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>\n                        </svg>\n                        Register\n                    </a>\n                    \n                </div>\n            </div>\n        </div>\n    </nav>\n\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-16 sm:mt-20">\n        \n        \n        \n        <div class="bg-white/80 backdrop-blur-sm border border-slate-200 text-slate-800 px-4 py-3 rounded-lg mb-4">\n            <svg class="h-5 w-5 inline-block align-text-bottom mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n            </svg>\n            Please log in to access this page.\n        </div>\n        \n        \n        \n        \n        <div class="container mx-auto px-4 py-4 sm:py-6">\n            \n<div class="flex justify-center">\n    <div class="w-full max-w-md">\n        <div class="bg-white/80 backdrop-blur-lg border border-slate-200 rounded-lg shadow-lg">\n            <div class="border-b border-slate-200 px-6 py-4">\n                <h2 class="text-2xl font-semibold text-slate-900">Login</h2>\n            </div>\n            <div class="p-6">\n                <form method="POST">\n                    <div class="mb-4">\n                        <label for="username" class="block text-sm font-medium mb-2 text-slate-900">Username</label>\n                        <input type="text" class="w-full bg-white/80 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent" \n                               id="username" name="username" required>\n                    </div>\n                    <div class="mb-6">\n                        <label for="password" class="block text-sm font-medium mb-2 text-slate-900">Password</label>\n                        <input type="password" class="w-full bg-white/80 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent" \n                               id="password" name="password" required>\n                    </div>\n                    <button type="submit" class="dream-button w-full">\n                        Login\n                    </button>\n                </form>\n                <hr class="my-6 border-slate-200">\n                <p class="text-center text-slate-700">\n                    New user? <a href="/register" class="text-purple-600 hover:text-purple-700 transition-colors">Register here</a>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>\n\n        </div>\n    </div>\n\n    <script>\n        function toggleMenu() {\n            const menu = document.getElementById(\'mobileMenu\');\n            menu.classList.toggle(\'hidden\');\n            menu.classList.toggle(\'flex\');\n            menu.classList.toggle(\'flex-col\');\n            menu.classList.toggle(\'w-full\');\n            menu.classList.toggle(\'fixed\');\n            menu.classList.toggle(\'top-14\');\n            menu.classList.toggle(\'left-0\');\n            menu.classList.toggle(\'bg-white/90\');\n            menu.classList.toggle(\'backdrop-blur-lg\');\n            menu.classList.toggle(\'p-4\');\n            menu.classList.toggle(\'space-y-2\');\n            menu.classList.toggle(\'z-40\');\n        }\n    </script>\n    \n</body>\n</html>'
 +  where b'<!DOCTYPE html>\n<html lang="en" class="bg-dream-gradient min-h-screen">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>DreamLoop - Login</title>\n    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">\n    <link href="https://unpkg.com/@heroicons/24/outline/style.css" rel="stylesheet" type="text/css">\n    <link href="/static/css/output.css" rel="stylesheet">\n    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>\n</head>\n<body class="text-slate-800">\n    <nav class="bg-white/80 backdrop-blur-lg border-b border-slate-200 fixed w-full top-0 z-50">\n        <div class="max-w-7xl mx-auto px-4">\n            <div class="flex items-center justify-between h-14 sm:h-16">\n                <a href="/" class="flex items-center">\n                    <img src="/static/images/dreamlooplogo.svg" alt="DreamLoop Logo" class="h-8 w-auto">\n                </a>\n                <button class="lg:hidden z-50" type="button" onclick="toggleMenu()">\n                    <span class="sr-only">Open menu</span>\n                    <svg class="h-6 w-6 text-slate-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>\n                    </svg>\n                </button>\n                <div id="mobileMenu" class="hidden lg:flex lg:items-center lg:space-x-4">\n                    \n                    <a href="/login" class="text-slate-700 hover:text-slate-900 px-4 py-2 rounded-md transition-colors">\n                        <svg class="h-5 w-5 inline-block align-text-bottom" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>\n                        </svg>\n                        Login\n                    </a>\n                    <a href="/register" class="text-slate-700 hover:text-slate-900 px-4 py-2 rounded-md transition-colors">\n                        <svg class="h-5 w-5 inline-block align-text-bottom" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>\n                        </svg>\n                        Register\n                    </a>\n                    \n                </div>\n            </div>\n        </div>\n    </nav>\n\n    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-16 sm:mt-20">\n        \n        \n        \n        <div class="bg-white/80 backdrop-blur-sm border border-slate-200 text-slate-800 px-4 py-3 rounded-lg mb-4">\n            <svg class="h-5 w-5 inline-block align-text-bottom mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n            </svg>\n            Please log in to access this page.\n        </div>\n        \n        \n        \n        \n        <div class="container mx-auto px-4 py-4 sm:py-6">\n            \n<div class="flex justify-center">\n    <div class="w-full max-w-md">\n        <div class="bg-white/80 backdrop-blur-lg border border-slate-200 rounded-lg shadow-lg">\n            <div class="border-b border-slate-200 px-6 py-4">\n                <h2 class="text-2xl font-semibold text-slate-900">Login</h2>\n            </div>\n            <div class="p-6">\n                <form method="POST">\n                    <div class="mb-4">\n                        <label for="username" class="block text-sm font-medium mb-2 text-slate-900">Username</label>\n                        <input type="text" class="w-full bg-white/80 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent" \n                               id="username" name="username" required>\n                    </div>\n                    <div class="mb-6">\n                        <label for="password" class="block text-sm font-medium mb-2 text-slate-900">Password</label>\n                        <input type="password" class="w-full bg-white/80 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent" \n                               id="password" name="password" required>\n                    </div>\n                    <button type="submit" class="dream-button w-full">\n                        Login\n                    </button>\n                </form>\n                <hr class="my-6 border-slate-200">\n                <p class="text-center text-slate-700">\n                    New user? <a href="/register" class="text-purple-600 hover:text-purple-700 transition-colors">Register here</a>\n                </p>\n            </div>\n        </div>\n    </div>\n</div>\n\n        </div>\n    </div>\n\n    <script>\n        function toggleMenu() {\n            const menu = document.getElementById(\'mobileMenu\');\n            menu.classList.toggle(\'hidden\');\n            menu.classList.toggle(\'flex\');\n            menu.classList.toggle(\'flex-col\');\n            menu.classList.toggle(\'w-full\');\n            menu.classList.toggle(\'fixed\');\n            menu.classList.toggle(\'top-14\');\n            menu.classList.toggle(\'left-0\');\n            menu.classList.toggle(\'bg-white/90\');\n            menu.classList.toggle(\'backdrop-blur-lg\');\n            menu.classList.toggle(\'p-4\');\n            menu.classList.toggle(\'space-y-2\');\n            menu.classList.toggle(\'z-40\');\n        }\n    </script>\n    \n</body>\n</html>' = <WrapperTestResponse 5841 bytes [200 OK]>.data

2024-11-14 01:23:37,834 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Cleanup failed: A transaction is already begun on this Session.

2024-11-14 01:23:37,835 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-14 01:23:37,856 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

