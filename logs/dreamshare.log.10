2024-11-13 18:30:36,994 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 5.358s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-13 18:30:37,019 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00168s] {}

2024-11-13 18:30:37,046 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:37,047 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00103s] {}

2024-11-13 18:30:37,071 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:37,072 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-13 18:30:37,096 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-13 18:30:37,097 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00094s] {}

2024-11-13 18:30:37,125 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-13 18:30:37,126 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00131s] {}

2024-11-13 18:30:37,151 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:37,152 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00105s] {}

2024-11-13 18:30:37,178 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:37,180 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00118s] {}

2024-11-13 18:30:37,204 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-13 18:30:37,205 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00124s] {}

2024-11-13 18:30:37,230 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:37,276 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:37,277 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,278 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 4.462s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,320 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables exist

2024-11-13 18:30:37,321 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:37,343 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:30:37,467 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:37,469 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:30:37,469 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 4.426s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$2aUTUwltcwVBXgt2$e8e44956d81480dc45435aecf4a6887b71289657c0f30c82cab61df9c6ef0db86dcc9d2f3e1f7c016a09946eeca29a0ce8ecd4372d0259532ffe1ede0953c0ab', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 30, 37, 344408)}

2024-11-13 18:30:37,515 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:37,559 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:37,560 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:30:37,561 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 4.422s ago] {'pk_1': 1}

2024-11-13 18:30:37,607 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/dream/new

2024-11-13 18:30:37,610 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/new
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/dream/new

2024-11-13 18:30:37,614 - - - 127.0.0.1 - GET http://localhost.localdomain/login?next=/dream/new
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/login?next=/dream/new

2024-11-13 18:30:37,646 - - - 127.0.0.1 - GET http://localhost.localdomain/login?next=/dream/new
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/login?next=/dream/new

2024-11-13 18:30:37,654 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:30:37,656 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:37,681 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:30:37,682 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropping existing tables

2024-11-13 18:30:37,704 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:37,705 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,705 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.069s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,747 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,748 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.112s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,770 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,774 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.138s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,797 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,798 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.162s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,821 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,823 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.187s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,846 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,848 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.211s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,870 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,874 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.237s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,897 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:37,899 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.262s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:37,923 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-13 18:30:37,925 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00136s] {}

2024-11-13 18:30:37,947 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-13 18:30:37,948 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00137s] {}

2024-11-13 18:30:37,972 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-13 18:30:37,973 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00160s] {}

2024-11-13 18:30:37,997 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-13 18:30:37,998 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00148s] {}

2024-11-13 18:30:38,022 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-13 18:30:38,024 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00162s] {}

2024-11-13 18:30:38,047 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-13 18:30:38,050 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00307s] {}

2024-11-13 18:30:38,080 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-13 18:30:38,094 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.01425s] {}

2024-11-13 18:30:38,120 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-13 18:30:38,121 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00147s] {}

2024-11-13 18:30:38,143 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:38,169 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:30:38,191 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:38,193 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,194 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.558s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,236 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,238 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.601s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,260 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,261 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.625s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,284 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,285 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.649s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,307 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.672s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,330 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,332 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.695s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,354 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,356 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.719s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,391 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,392 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.755s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-13 18:30:38,415 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00109s] {}

2024-11-13 18:30:38,441 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:38,443 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00197s] {}

2024-11-13 18:30:38,468 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:38,470 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00163s] {}

2024-11-13 18:30:38,494 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-13 18:30:38,496 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00150s] {}

2024-11-13 18:30:38,520 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-13 18:30:38,521 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00138s] {}

2024-11-13 18:30:38,547 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:38,548 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00101s] {}

2024-11-13 18:30:38,573 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:38,576 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00251s] {}

2024-11-13 18:30:38,603 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-13 18:30:38,605 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00235s] {}

2024-11-13 18:30:38,630 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:38,675 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:38,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:38,678 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 5.862s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:38,722 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables exist

2024-11-13 18:30:38,726 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:38,749 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:30:39,062 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,065 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:30:39,066 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.022s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$jfptwyF8sMzYTkWN$8199d066bb9e3f82bf2a9a22f12c6e903a8056db7770a70931c3ddb9dc14d0de9876ae1c80bdb3793495c9fb7645f3220a292a458796b0fb31e1aee1033adee1', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 30, 38, 751964)}

2024-11-13 18:30:39,110 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:39,158 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,159 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:30:39,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 6.021s ago] {'pk_1': 1}

2024-11-13 18:30:39,207 - - - 127.0.0.1 - POST http://localhost.localdomain/api/dreams
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/api/dreams

2024-11-13 18:30:39,211 - - - 127.0.0.1 - POST http://localhost.localdomain/api/dreams
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/api/dreams

2024-11-13 18:30:39,220 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:30:39,223 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:39,251 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:30:39,281 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,284 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:30:39,286 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [generated in 0.00252s] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:30:39,337 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:30:39,338 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:39,363 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:30:39,365 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:30:39,391 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,398 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:30:39,406 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 0.122s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:30:39,457 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:30:39,461 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:39,490 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:30:39,493 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:30:39,517 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,518 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:30:39,521 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 0.2373s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:30:39,565 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:30:39,567 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:39,590 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:30:39,597 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:30:39,621 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,626 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:30:39,630 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 0.3464s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:30:39,674 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:30:39,684 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:39,714 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:30:39,717 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:30:39,749 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,753 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:30:39,756 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 0.4717s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:30:39,803 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:30:39,808 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:39,832 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:30:39,854 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/login

2024-11-13 18:30:39,884 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:39,895 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s

2024-11-13 18:30:39,897 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: [cached since 0.6133s ago] {'username_1': 'nonexistent', 'param_1': 1}

2024-11-13 18:30:39,942 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: ERROR
Module: activity_tracker
Message: Error tracking activity: __init__() got an unexpected keyword argument 'created_at'

2024-11-13 18:30:39,943 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:39,969 - - - 127.0.0.1 - POST http://localhost.localdomain/login
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/login

2024-11-13 18:30:39,986 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:30:39,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropping existing tables

2024-11-13 18:30:40,011 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:40,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,018 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.381s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,065 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,067 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.43s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,089 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,091 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.454s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,113 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,114 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.478s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,136 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,139 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.503s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,162 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,163 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.526s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,185 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,186 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.549s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,208 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,212 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.575s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,235 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-13 18:30:40,236 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00110s] {}

2024-11-13 18:30:40,258 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-13 18:30:40,259 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00102s] {}

2024-11-13 18:30:40,284 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-13 18:30:40,285 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00158s] {}

2024-11-13 18:30:40,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-13 18:30:40,311 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00292s] {}

2024-11-13 18:30:40,334 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-13 18:30:40,335 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00092s] {}

2024-11-13 18:30:40,358 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-13 18:30:40,361 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00354s] {}

2024-11-13 18:30:40,399 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-13 18:30:40,401 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00272s] {}

2024-11-13 18:30:40,424 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-13 18:30:40,425 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00111s] {}

2024-11-13 18:30:40,448 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:40,472 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:30:40,494 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:40,497 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,498 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.861s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,540 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,542 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.906s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,565 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.93s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,588 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,589 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.952s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,611 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,613 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.976s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,634 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,636 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.999s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,658 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,659 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.022s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,683 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,684 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.047s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:40,706 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-13 18:30:40,708 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00131s] {}

2024-11-13 18:30:40,733 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:40,734 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00185s] {}

2024-11-13 18:30:40,760 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:40,761 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00140s] {}

2024-11-13 18:30:40,786 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-13 18:30:40,787 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00113s] {}

2024-11-13 18:30:40,812 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-13 18:30:40,813 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00113s] {}

2024-11-13 18:30:40,839 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:40,840 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00110s] {}

2024-11-13 18:30:40,865 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:40,867 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00154s] {}

2024-11-13 18:30:40,892 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-13 18:30:40,894 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00129s] {}

2024-11-13 18:30:40,918 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:40,966 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:40,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:40,968 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.152s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,010 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables exist

2024-11-13 18:30:41,012 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:41,034 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:30:41,154 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:41,156 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:30:41,158 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.114s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$bumJEUKsfrhmdjNO$bc47101cfc2505ac4ce2141a8244a61e5c6f98737dca69189ebf8df3736af3a4fbe93853491787ecbc2495ef568fef90bace8d2a2b9b5771c56becd99cb0a168', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 30, 41, 36258)}

2024-11-13 18:30:41,202 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:41,246 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:41,249 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:30:41,250 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 8.11s ago] {'pk_1': 1}

2024-11-13 18:30:41,295 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/advanced-analysis
Level: INFO
Module: middleware
Message: Request started: GET http://localhost.localdomain/dream/advanced-analysis

2024-11-13 18:30:41,298 - - - 127.0.0.1 - GET http://localhost.localdomain/dream/advanced-analysis
Level: INFO
Module: middleware
Message: Request completed: GET http://localhost.localdomain/dream/advanced-analysis

2024-11-13 18:30:41,305 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:30:41,306 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:41,331 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:30:41,332 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropping existing tables

2024-11-13 18:30:41,354 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:41,355 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.72s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,404 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,405 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.769s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,428 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,430 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.793s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,452 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,453 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.816s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,476 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,477 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.84s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,499 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,500 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.864s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,523 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,524 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.887s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,546 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,548 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.911s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,570 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-13 18:30:41,571 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00107s] {}

2024-11-13 18:30:41,593 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-13 18:30:41,595 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00152s] {}

2024-11-13 18:30:41,617 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-13 18:30:41,618 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00104s] {}

2024-11-13 18:30:41,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-13 18:30:41,642 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00118s] {}

2024-11-13 18:30:41,664 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-13 18:30:41,666 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00134s] {}

2024-11-13 18:30:41,688 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-13 18:30:41,688 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00087s] {}

2024-11-13 18:30:41,712 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-13 18:30:41,712 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00098s] {}

2024-11-13 18:30:41,736 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-13 18:30:41,737 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00091s] {}

2024-11-13 18:30:41,759 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:41,781 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:30:41,803 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:41,805 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,806 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.17s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,850 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,852 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.21s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,874 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,875 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.24s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,897 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,899 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.26s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,921 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,921 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.28s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,943 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,944 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.31s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,966 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,967 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.33s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:41,990 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:41,991 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 10.35s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:42,014 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-13 18:30:42,016 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00168s] {}

2024-11-13 18:30:42,248 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:42,270 - - - None - GET http://localhost.localdomain/
Level: ERROR
Module: conftest
Message: Database setup failed: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "pg_class_relname_nsp_index"
DETAIL:  Key (relname, relnamespace)=(user_id_seq, 421419) already exists.

[SQL: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)

]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-13 18:30:43,088 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:30:43,089 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropping existing tables

2024-11-13 18:30:43,111 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:43,113 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,114 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.48s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,157 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,159 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.52s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,184 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.55s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,207 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,209 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.57s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,232 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,234 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.6s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,256 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,258 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.62s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,282 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,283 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.65s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,307 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,308 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.67s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,335 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-13 18:30:43,338 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00316s] {}

2024-11-13 18:30:43,362 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-13 18:30:43,364 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00259s] {}

2024-11-13 18:30:43,388 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-13 18:30:43,390 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00186s] {}

2024-11-13 18:30:43,414 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-13 18:30:43,418 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00448s] {}

2024-11-13 18:30:43,444 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-13 18:30:43,447 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00285s] {}

2024-11-13 18:30:43,470 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-13 18:30:43,472 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00189s] {}

2024-11-13 18:30:43,497 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-13 18:30:43,499 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00237s] {}

2024-11-13 18:30:43,522 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-13 18:30:43,524 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00119s] {}

2024-11-13 18:30:43,547 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:43,571 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:30:43,593 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:43,597 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,598 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.96s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,641 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,643 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.01s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,666 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,667 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.03s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,690 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,691 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.05s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,714 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,716 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.08s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,739 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,742 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.11s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,764 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,766 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.13s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,788 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:43,791 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 12.15s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:43,814 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-13 18:30:43,815 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00134s] {}

2024-11-13 18:30:43,846 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:43,847 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00183s] {}

2024-11-13 18:30:43,874 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:43,875 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00189s] {}

2024-11-13 18:30:43,901 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-13 18:30:43,909 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00757s] {}

2024-11-13 18:30:43,936 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-13 18:30:43,938 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00156s] {}

2024-11-13 18:30:43,964 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:43,965 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00130s] {}

2024-11-13 18:30:43,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:43,990 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00135s] {}

2024-11-13 18:30:44,015 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-13 18:30:44,017 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00136s] {}

2024-11-13 18:30:44,042 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:44,087 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:44,089 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:44,091 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.28s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:44,134 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables exist

2024-11-13 18:30:44,135 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:44,160 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:30:44,285 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:44,288 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:30:44,291 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.25s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$A3Y4YDhgWtxSJoaf$40fd785b219d0879bfb1651214bef8d1bcbb79e9182f3f5163a17885694592bd401eb2680e657c50cd55765388866314e22a0e65aa435f9a97ce0e52c7ff1d53', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 30, 44, 163414)}

2024-11-13 18:30:44,337 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:44,383 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:44,396 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:30:44,397 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.26s ago] {'pk_1': 1}

2024-11-13 18:30:44,443 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream (user_id, title, content, date, mood, sentiment_score, sentiment_magnitude, dominant_emotions, lucidity_level, tags, is_public, is_anonymous, ai_analysis, sleep_duration, sleep_quality, bed_time, wake_time, sleep_interruptions, sleep_position) VALUES (%(user_id)s, %(title)s, %(content)s, %(date)s, %(mood)s, %(sentiment_score)s, %(sentiment_magnitude)s, %(dominant_emotions)s, %(lucidity_level)s, %(tags)s, %(is_public)s, %(is_anonymous)s, %(ai_analysis)s, %(sleep_duration)s, %(sleep_quality)s, %(bed_time)s, %(wake_time)s, %(sleep_interruptions)s, %(sleep_position)s) RETURNING dream.id

2024-11-13 18:30:44,445 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 9.626s ago] {'user_id': 1, 'title': 'Test Dream', 'content': 'Test dream content', 'date': datetime.datetime(2024, 11, 13, 18, 30, 44, 442881), 'mood': 'happy', 'sentiment_score': None, 'sentiment_magnitude': None, 'dominant_emotions': None, 'lucidity_level': 3, 'tags': 'test,dream', 'is_public': True, 'is_anonymous': False, 'ai_analysis': None, 'sleep_duration': None, 'sleep_quality': 4, 'bed_time': None, 'wake_time': None, 'sleep_interruptions': 0, 'sleep_position': 'back'}

2024-11-13 18:30:44,469 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:44,516 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:44,519 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:30:44,520 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.38s ago] {'pk_1': 1}

2024-11-13 18:30:44,566 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE dream.id = %(pk_1)s

2024-11-13 18:30:44,569 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00310s] {'pk_1': 1}

2024-11-13 18:30:44,596 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/1/analyze
Level: INFO
Module: middleware
Message: Request started: POST http://localhost.localdomain/dream/1/analyze

2024-11-13 18:30:44,600 - - - 127.0.0.1 - POST http://localhost.localdomain/dream/1/analyze
Level: INFO
Module: middleware
Message: Request completed: POST http://localhost.localdomain/dream/1/analyze

2024-11-13 18:30:44,605 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: UPDATE "user" SET monthly_ai_analysis_count=%(monthly_ai_analysis_count)s WHERE "user".id = %(user_id)s

2024-11-13 18:30:44,606 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00114s] {'monthly_ai_analysis_count': 1, 'user_id': 1}

2024-11-13 18:30:44,628 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:44,674 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:44,676 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:30:44,678 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.54s ago] {'pk_1': 1}

2024-11-13 18:30:44,729 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Cleaning up test database

2024-11-13 18:30:44,731 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:44,887 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:44,890 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:30:44,892 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 11.85s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$SHeBEcYv4wutziMO$277b2b2e52bb36585e4465d503bd578ef34cd9db0dbfa54ddaa2e9d8ad762497af5c059267dd518c5e730a107b7d3651527f972ddc84692cb4baf2458cde97db', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 30, 44, 757747)}

2024-11-13 18:30:44,937 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:46,579 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Starting database initialization

2024-11-13 18:30:46,580 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Dropping existing tables

2024-11-13 18:30:46,602 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:46,603 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,604 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.97s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,646 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,650 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.01s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,673 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,675 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.04s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,698 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,700 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.06s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,723 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,725 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.09s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,747 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,748 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.11s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,772 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,776 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.14s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,801 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:46,804 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.17s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:46,827 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_reply

2024-11-13 18:30:46,834 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00624s] {}

2024-11-13 18:30:46,858 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE forum_post

2024-11-13 18:30:46,860 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00188s] {}

2024-11-13 18:30:46,883 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE group_membership

2024-11-13 18:30:46,888 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00506s] {}

2024-11-13 18:30:46,921 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE comment

2024-11-13 18:30:46,926 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00694s] {}

2024-11-13 18:30:46,954 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream_group

2024-11-13 18:30:46,959 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00528s] {}

2024-11-13 18:30:47,007 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE dream

2024-11-13 18:30:47,009 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00152s] {}

2024-11-13 18:30:47,034 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE user_activity

2024-11-13 18:30:47,039 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00503s] {}

2024-11-13 18:30:47,064 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
DROP TABLE "user"

2024-11-13 18:30:47,067 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00319s] {}

2024-11-13 18:30:47,095 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:47,120 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Creating new tables

2024-11-13 18:30:47,143 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:47,144 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,145 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.51s ago] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,187 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,188 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.55s ago] {'table_name': 'user_activity', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,213 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,214 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.58s ago] {'table_name': 'dream', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,236 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,238 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.6s ago] {'table_name': 'comment', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,261 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,265 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.63s ago] {'table_name': 'dream_group', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,299 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,300 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.66s ago] {'table_name': 'group_membership', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,328 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,333 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.7s ago] {'table_name': 'forum_post', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,358 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,366 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 15.73s ago] {'table_name': 'forum_reply', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,390 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE "user" (
	id SERIAL NOT NULL, 
	username VARCHAR(64) NOT NULL, 
	email VARCHAR(120) NOT NULL, 
	password_hash VARCHAR(256), 
	subscription_type VARCHAR(20), 
	subscription_end_date TIMESTAMP WITHOUT TIME ZONE, 
	monthly_ai_analysis_count INTEGER, 
	last_analysis_reset TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	UNIQUE (username), 
	UNIQUE (email)
)



2024-11-13 18:30:47,395 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00448s] {}

2024-11-13 18:30:47,431 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE user_activity (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	activity_type VARCHAR(50) NOT NULL, 
	description TEXT, 
	target_type VARCHAR(50), 
	target_id INTEGER, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	ip_address VARCHAR(45), 
	user_agent VARCHAR(256), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:47,435 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00483s] {}

2024-11-13 18:30:47,463 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream (
	id SERIAL NOT NULL, 
	user_id INTEGER NOT NULL, 
	title VARCHAR(100) NOT NULL, 
	content TEXT NOT NULL, 
	date TIMESTAMP WITHOUT TIME ZONE, 
	mood VARCHAR(50), 
	sentiment_score FLOAT, 
	sentiment_magnitude FLOAT, 
	dominant_emotions VARCHAR(200), 
	lucidity_level INTEGER, 
	tags VARCHAR(200), 
	is_public BOOLEAN, 
	is_anonymous BOOLEAN, 
	ai_analysis TEXT, 
	sleep_duration FLOAT, 
	sleep_quality INTEGER, 
	bed_time TIMESTAMP WITHOUT TIME ZONE, 
	wake_time TIMESTAMP WITHOUT TIME ZONE, 
	sleep_interruptions INTEGER, 
	sleep_position VARCHAR(50), 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id)
)



2024-11-13 18:30:47,465 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00192s] {}

2024-11-13 18:30:47,494 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE dream_group (
	id SERIAL NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	description TEXT, 
	created_by INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(created_by) REFERENCES "user" (id)
)



2024-11-13 18:30:47,500 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00597s] {}

2024-11-13 18:30:47,525 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE comment (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	dream_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(dream_id) REFERENCES dream (id)
)



2024-11-13 18:30:47,526 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00175s] {}

2024-11-13 18:30:47,553 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE group_membership (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	is_admin BOOLEAN, 
	joined_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:47,554 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00158s] {}

2024-11-13 18:30:47,581 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_post (
	id SERIAL NOT NULL, 
	title VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(group_id) REFERENCES dream_group (id)
)



2024-11-13 18:30:47,583 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00156s] {}

2024-11-13 18:30:47,609 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: 
CREATE TABLE forum_reply (
	id SERIAL NOT NULL, 
	content TEXT NOT NULL, 
	user_id INTEGER NOT NULL, 
	post_id INTEGER NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "user" (id), 
	FOREIGN KEY(post_id) REFERENCES forum_post (id)
)



2024-11-13 18:30:47,610 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [no key 0.00172s] {}

2024-11-13 18:30:47,635 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:47,681 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:47,684 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s]) AND pg_catalog.pg_class.relpersistence != %(relpersistence_1)s AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s

2024-11-13 18:30:47,685 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.87s ago] {'param_1': 'r', 'param_2': 'p', 'relpersistence_1': 't', 'nspname_1': 'pg_catalog'}

2024-11-13 18:30:47,729 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: All required tables exist

2024-11-13 18:30:47,730 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: ROLLBACK

2024-11-13 18:30:47,752 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: conftest
Message: Test database initialized successfully

2024-11-13 18:30:47,888 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:47,891 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO "user" (username, email, password_hash, subscription_type, subscription_end_date, monthly_ai_analysis_count, last_analysis_reset) VALUES (%(username)s, %(email)s, %(password_hash)s, %(subscription_type)s, %(subscription_end_date)s, %(monthly_ai_analysis_count)s, %(last_analysis_reset)s) RETURNING "user".id

2024-11-13 18:30:47,892 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.85s ago] {'username': 'testuser', 'email': 'test@example.com', 'password_hash': 'scrypt:32768:8:1$0CQxjRvUg0e9jVST$a910fd9dd446fdbfc9f04ecf8ce946f05c4cff877b646634a281db2bcecdc7875599b02d842d637a020d98ba45833d43fa13d0e70a26b9fcd4dc3d846783a594', 'subscription_type': 'free', 'subscription_end_date': None, 'monthly_ai_analysis_count': 0, 'last_analysis_reset': datetime.datetime(2024, 11, 13, 18, 30, 47, 755249)}

2024-11-13 18:30:47,941 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:47,986 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:47,989 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT "user".id AS user_id, "user".username AS user_username, "user".email AS user_email, "user".password_hash AS user_password_hash, "user".subscription_type AS user_subscription_type, "user".subscription_end_date AS user_subscription_end_date, "user".monthly_ai_analysis_count AS user_monthly_ai_analysis_count, "user".last_analysis_reset AS user_last_analysis_reset 
FROM "user" 
WHERE "user".id = %(pk_1)s

2024-11-13 18:30:47,991 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 14.85s ago] {'pk_1': 1}

2024-11-13 18:30:48,181 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:48,183 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: INSERT INTO dream (user_id, title, content, date, mood, sentiment_score, sentiment_magnitude, dominant_emotions, lucidity_level, tags, is_public, is_anonymous, ai_analysis, sleep_duration, sleep_quality, bed_time, wake_time, sleep_interruptions, sleep_position) VALUES (%(user_id)s, %(title)s, %(content)s, %(date)s, %(mood)s, %(sentiment_score)s, %(sentiment_magnitude)s, %(dominant_emotions)s, %(lucidity_level)s, %(tags)s, %(is_public)s, %(is_anonymous)s, %(ai_analysis)s, %(sleep_duration)s, %(sleep_quality)s, %(bed_time)s, %(wake_time)s, %(sleep_interruptions)s, %(sleep_position)s) RETURNING dream.id

2024-11-13 18:30:48,185 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [cached since 13.37s ago] {'user_id': 1, 'title': 'Test Dream', 'content': 'Test content', 'date': datetime.datetime(2024, 11, 13, 18, 30, 48, 35666), 'mood': 'happy', 'sentiment_score': None, 'sentiment_magnitude': None, 'dominant_emotions': None, 'lucidity_level': 3, 'tags': 'test,dream', 'is_public': True, 'is_anonymous': False, 'ai_analysis': None, 'sleep_duration': None, 'sleep_quality': 4, 'bed_time': None, 'wake_time': None, 'sleep_interruptions': 0, 'sleep_position': 'back'}

2024-11-13 18:30:48,235 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: COMMIT

2024-11-13 18:30:48,287 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: BEGIN (implicit)

2024-11-13 18:30:48,293 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE dream.title = %(title_1)s 
 LIMIT %(param_1)s

2024-11-13 18:30:48,303 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00981s] {'title_1': 'Test Dream', 'param_1': 1}

2024-11-13 18:30:48,355 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: SELECT dream.id AS dream_id, dream.user_id AS dream_user_id, dream.title AS dream_title, dream.content AS dream_content, dream.date AS dream_date, dream.mood AS dream_mood, dream.sentiment_score AS dream_sentiment_score, dream.sentiment_magnitude AS dream_sentiment_magnitude, dream.dominant_emotions AS dream_dominant_emotions, dream.lucidity_level AS dream_lucidity_level, dream.tags AS dream_tags, dream.is_public AS dream_is_public, dream.is_anonymous AS dream_is_anonymous, dream.ai_analysis AS dream_ai_analysis, dream.sleep_duration AS dream_sleep_duration, dream.sleep_quality AS dream_sleep_quality, dream.bed_time AS dream_bed_time, dream.wake_time AS dream_wake_time, dream.sleep_interruptions AS dream_sleep_interruptions, dream.sleep_position AS dream_sleep_position 
FROM dream 
WHERE %(param_1)s = dream.user_id

2024-11-13 18:30:48,357 - - - None - GET http://localhost.localdomain/
Level: INFO
Module: base
Message: [generated in 0.00227s] {'param_1': 1}

